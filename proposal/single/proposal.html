<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Hierarchical Data Structures and Related Concepts for the C++ Standard Library</title><style type="text/css">

/********************************/
/* start of styles in block.xsl */

.formalpara-title {
  font-weight: bold;
}

div.blockquote-title {
  font-weight: bold;
  margin-top: 1em;
  margin-bottom: 1em;
}

span.msgmain-title {
  font-weight: bold;
}

span.msgsub-title {
  font-weight: bold;
}

span.msgrel-title {
  font-weight: bold;
}

div.msglevel, div.msgorig, div.msgaud {
  margin-top: 1em;
  margin-bottom: 1em;
}

span.msglevel-title, span.msgorig-title, span.msgaud-title {
  font-weight: bold;
}

div.msgexplan {
  margin-top: 1em;
  margin-bottom: 1em;
}

span.msgexplan-title {
  font-weight: bold;
}

/* end of styles in block.xsl */
/********************************/

/********************************/
/* start of styles in autotoc.xsl */


/* end of styles in autotoc.xsl */
/********************************/

/********************************/
/* start of styles in formal.xsl */

div.figure-title {
  font-weight: bold;
}

div.example-title {
  font-weight: bold;
}

div.equation-title {
  font-weight: bold;
}

div.table-title {
  font-weight: bold;
}

div.sidebar-title {
  font-weight: bold;
}


/* end of styles in formal.xsl */
/********************************/

/********************************/
/* start of styles in verbatim.xsl */

div.programlisting {
  white-space: pre;
  font-family: monospace;
}

div.screen {
  white-space: pre;
  font-family: monospace;
}

div.synopsis {
  white-space: pre;
  font-family: monospace;
}

/* end of styles in verbatim.xsl */
/********************************/

/* footnote rule */
hr.footnote-hr {
  width: 100;
}

</style><style type="text/css">
/*=============================================================================
    Copyright (c) 2004 Joel de Guzman
    Copyright (c) 2011-2012 Rene Rivera

    Use, modification and distribution is subject to the Boost Software
    License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
    http://www.boost.org/LICENSE_1_0.txt)
=============================================================================*/

/*=============================================================================
    Body defaults
=============================================================================*/
body {
  margin: 1em;
  font-family: sans-serif;
}

/*=============================================================================
    Paragraphs
=============================================================================*/
p {
  text-align: left;
  /* font-size: 10pt; */
  line-height: 1.15;
}

/*=============================================================================
    Program listings
=============================================================================*/

/* Code on paragraphs */
p tt.computeroutput {
  font-size: 9pt;
}

pre.synopsis {
  font-size: 90%;
  margin: 1pc 4% 0pc 4%;
  padding: 0.5pc 0.5pc 0.5pc 0.5pc;
}

.programlisting,.screen {
  font-size: 9pt;
  display: block;
  margin: 1pc 4% 0pc 4%;
  padding: 0.5pc 0.5pc 0.5pc 0.5pc;
}

/* Program listings in tables don't get borders */
td .programlisting,td .screen {
  margin: 0pc 0pc 0pc 0pc;
  padding: 0pc 0pc 0pc 0pc;
}

tt, code, kbd, samp {
  font-size: 115%;
}

/*=============================================================================
    Headings
=============================================================================*/
h1,h2,h3,h4,h5,h6 {
  text-align: left;
  margin: 1em 0em 0.5em 0em;
  font-weight: bold;
}

h1 {
  font: 140%
}

h2 {
  font: bold 140%
}

h3 {
  font: bold 130%
}

h4 {
  font: bold 120%
}

h5 {
  font: italic 110%
}

h6 {
  font: italic 100%
}

/* Top page titles */
title,
h1.title,
h2.title,
h3.title,
h4.title,
h5.title,
h6.title,
.refentrytitle {
  font-weight: bold;
  margin-bottom: 1pc;
}

h1.title {
  font-size: 140%
}

h2.title {
  font-size: 140%
}

h3.title {
  font-size: 130%
}

h4.title {
  font-size: 120%
}

h5.title {
  font-size: 110%
}

h6.title {
  font-size: 100%
}

.section h1 {
  margin: 0em 0em 0.5em 0em;
  font-size: 140%;
}

.section h2 {
  font-size: 140%
}

.section h3 {
  font-size: 130%
}

.section h4 {
  font-size: 120%
}

.section h5 {
  font-size: 110%
}

.section h6 {
  font-size: 100%
}

/* Code on titles */
h1 tt.computeroutput {
  font-size: 140%
}

h2 tt.computeroutput {
  font-size: 140%
}

h3 tt.computeroutput {
  font-size: 130%
}

h4 tt.computeroutput {
  font-size: 120%
}

h5 tt.computeroutput {
  font-size: 110%
}

h6 tt.computeroutput {
  font-size: 100%
}

/*=============================================================================
    Author
=============================================================================*/
h3.author {
  font-size: 100%
}

/*=============================================================================
    Lists
=============================================================================*/
li {
  /* font-size: 10pt; */
  line-height: 1.3;
}

/* Unordered lists */
ul {
  text-align: left;
}

/* Ordered lists */
ol {
  text-align: left;
}

/*=============================================================================
    Links
=============================================================================*/
a {
  text-decoration: none; /* no underline */
}

a:hover {
  text-decoration: underline;
}

/*=============================================================================
    Spirit style navigation
=============================================================================*/
.spirit-nav {
  text-align: right;
}

.spirit-nav a {
  color: white;
  padding-left: 0.5em;
}

.spirit-nav img {
  border-width: 0px;
}

/*=============================================================================
    Table of contents
=============================================================================*/
.toc {
  margin: 1pc 4% 0pc 4%;
  padding: 0.1pc 1pc 0.1pc 1pc;
  font-size: 80%;
  line-height: 1.15;
}

.boost-toc {
  float: right;
  padding: 0.5pc;
}

/*=============================================================================
    Tables
=============================================================================*/
.table-title,div.table p.title {
  margin-left: 4%;
  padding-right: 0.5em;
  padding-left: 0.5em;
}

.informaltable table,.table table {
  width: 92%;
  margin-left: 4%;
  margin-right: 4%;
}

div.informaltable table,div.table table {
  padding: 4px;
}

/* Table Cells */
div.informaltable table tr td,div.table table tr td {
  padding: 0.5em;
  text-align: left;
  /* font-size: 9pt; */
}

div.informaltable table tr th,div.table table tr th {
  padding: 0.5em 0.5em 0.5em 0.5em;
  border: 1pt solid white;
  font-size: 80%;
}

/*=============================================================================
    Blurbs
=============================================================================*/
div.note,div.tip,div.important,div.caution,div.warning,p.blurb {
  /* font-size: 9pt; */ /* A little bit smaller than the main text */
  line-height: 1.2;
  display: block;
  margin: 1pc 4% 0pc 4%;
  padding: 0.5pc 0.5pc 0.5pc 0.5pc;
}

p.blurb img {
  padding: 1pt;
}

/*=============================================================================
    Variable Lists
=============================================================================*/

/* Make the terms in definition lists bold */
div.variablelist dl dt,span.term {
  font-weight: bold;
  /* font-size: 10pt; */
}

div.variablelist table tbody tr td {
  text-align: left;
  vertical-align: top;
  padding: 0em 2em 0em 0em;
  /* font-size: 10pt; */
  margin: 0em 0em 0.5em 0em;
  line-height: 1;
}

div.variablelist dl dt {
  margin-bottom: 0.2em;
}

div.variablelist dl dd {
  margin: 0em 0em 0.5em 2em;
  /* font-size: 10pt; */
}

div.variablelist table tbody tr td p,div.variablelist dl dd p {
  margin: 0em 0em 0.5em 0em;
  line-height: 1;
}

/*=============================================================================
    Misc
=============================================================================*/

/* Title of books and articles in bibliographies */
span.title {
  font-style: italic;
}

span.underline {
  text-decoration: underline;
}

span.strikethrough {
  text-decoration: line-through;
}

/* Copyright, Legal Notice */
div div.legalnotice p {
  text-align: left
}

/*=============================================================================
    Colors
=============================================================================*/
@media screen { /* Links */
  a {
    color: #005a9c;
  }
  a:visited {
    color: #9c5a9c;
  }
  h1 a,h2 a,h3 a,h4 a,h5 a,h6 a,h1 a:hover,h2 a:hover,h3 a:hover,h4 a:hover,h5 a:hover,h6 a:hover,h1 a:visited,h2 a:visited,h3 a:visited,h4 a:visited,h5 a:visited,h6 a:visited
    {
    text-decoration: none; /* no underline */
    color: #000000;
  }

  /* Syntax Highlighting */
  .keyword {
    color: #0000AA;
  }
  .identifier {
    color: #000000;
  }
  .special {
    color: #707070;
  }
  .preprocessor {
    color: #402080;
  }
  .char {
    color: teal;
  }
  .comment {
    color: #800000;
    font-style: italic;
  }
  .string {
    color: teal;
  }
  .number {
    color: teal;
  }
  .white_bkd {
    background-color: #FFFFFF;
  }
  .dk_grey_bkd {
    background-color: #999999;
  }

  /* Copyright, Legal Notice */
  .copyright {
    color: #666666;
    font-size: small;
  }
  div div.legalnotice p {
    color: #666666;
  }

  /* Program listing */
  pre.synopsis {
    border: 1px solid #DCDCDC;
  }
  .programlisting,.screen {
    border: 1px solid #DCDCDC;
  }
  td .programlisting,td .screen {
    border: 0px solid #DCDCDC;
  }

  /* Blurbs */
  div.note,div.tip,div.important,div.caution,div.warning,p.blurb {
    border: 1px solid #DCDCDC;
  }

  /* Table of contents */
  .toc {
    border: 1px solid #DCDCDC;
  }

  /* Tables */
  div.informaltable table tr td,div.table table tr td {
    border: 1px solid #DCDCDC;
  }
  div.informaltable table tr th,div.table table tr th {
    background-color: #F0F0F0;
    border: 1px solid #DCDCDC;
  }

  /* Misc */
  span.highlight {
    color: #00A000;
  }
}

@media print { /* Links */
  a {
    color: black;
  }
  a:visited {
    color: black;
  }
  .spirit-nav {
    display: none;
  }

  /* Program listing */
  pre.synopsis {
    border: 1px solid gray;
  }
  .programlisting,.screen {
    border: 1px solid gray;
  }
  td .programlisting,td .screen {
    border: 0px solid #DCDCDC;
  }

  /* Table of contents */
  .toc {
    border: 1px solid gray;
  }
  .informaltable table,.table table {
    border: 1px solid gray;
    border-collapse: collapse;
  }

  /* Tables */
  div.informaltable table tr td,div.table table tr td {
    border: 1px solid gray;
  }
  div.informaltable table tr th,div.table table tr th {
    border: 1px solid gray;
  }

  /* Misc */
  span.highlight {
    font-weight: bold;
  }
}

.std_proposal > .section {
  font-family: Didot, Times, serif;
}

.std_proposal > .section {
  margin: 1em;
  padding: 1em 0em 1em 1.5em;
  border-top: 1px solid #888888;
  border-bottom: 1px solid #888888;
}

.std_proposal .section {
  counter-reset: section-paragraph;
}

.std_proposal .section > p:before,
.std_proposal div.std_requisite > *:first-child:before,
.std_proposal div.std_specification > *:first-child:before
{
  content: counter(section-paragraph);
  counter-increment: section-paragraph;
  display: block;
  width: 4em;
  position: absolute;
  left: 0em;
  text-align: right;
  font-size: 70%;
  padding-top: 0.2em;
}

.std_proposal .std_section_label {
  float: right;
}

.std_proporal .std_requisite {
}

.std_proposal .std_definition {
}

.std_proposal .std_specification {
  display: block;
  margin-left: 3em;
}

.std_proposal ol {
  margin: 0em;
  padding: 0em;
}

.std_proposal ol li {
  margin: 0em 0em 1em 0em;
  padding: 0em 0em 0em 0em;
  clear: both;
}

.std_proposal table {
  border: 1px solid;
  margin: 0em auto 0em auto;
  border-spacing: 0em;
  width: inherit;
  padding: 0em !important;
  border-collapse: separate;
}

.std_proposal .table .title,
.std_proposal .table-title {
  font-weight: bold;
  margin: 1em auto 1em auto;
  text-align: center;
  caption-side: top;
}

.std_proposal table th {
  border: none !important;
  border-bottom: 1px solid !important;
  padding: 0.25em 0.5em 0em 0.5em !important;
  background: transparent !important;
}
.std_proposal table th p {
  text-align: center !important;
}

.std_proposal table td {
  border: none !important;
  border-top: 1px solid !important;
  vertical-align: top !important;
  padding: 0.25em 0.5em 0em 0.5em !important;
  background: transparent !important;
}

.std_proposal .docref {
  float: right;
}

.std_proposal .docref dt {
  float: left;
  font-style: italic;
}

.std_proposal .docref dd {
  margin-left: 8em;
}

.std_proposal h1,
.std_proposal h2,
.std_proposal h3,
.std_proposal h4,
.std_proposal h5,
.std_proposal h6 {
  clear: both;
  font-style: normal;
}

.std_proposal .byline {
  text-align: center;
}

.std_proposal .note {
  background: #EEEEEE;
  border: 1px solid #AAAAAA;
  padding: 0.25em;
}
.std_proposal .note .title {
  display: none;
}
.std_proposal .note p {
  margin: 0.25em 0em 0.25em 0em;
}
.std_proposal .note table {
  border: none;
  margin: 0em;
  padding: 0em;
}
.std_proposal .note table td,
.tree_proposal .note table th {
  border: none !important;
}

.std_proposal .add {
  text-decoration: overline;
}

.std_proposal h2 {
  font-size: 150%
}

.std_proposal h3,
.std_proposal h4,
.std_proposal h5,
.std_proposal h6 {
  font-size: 100%;
}

.std_proposal .section-id {
  float: right;
  position: relative;
  top: -1.25em;
}
.std_proposal .programlisting {
  border: none !important;
  margin-left: 0em !important;
  margin-right: 0em !important;
  padding: 0em !important;
}
</style><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" id="tree"><div class="titlepage"><div><div><h2 class="title">Hierarchical Data Structures and Related Concepts for the C++ Standard Library</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Bernhard</span> <span class="surname">Reiter</span></h3></div><div class="author"><h3 class="author"><span class="firstname">René</span> <span class="surname">Rivera</span></h3></div></div></div><div><p class="copyright">Copyright © 2006-2009 Bernhard
      Reiter</p></div><div><p class="copyright">Copyright © 2006-2013 René Rivera</p></div><div><div class="legalnotice" id="tree.legal"><p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p></div></div></div><hr></div><div class="toc"><div class="toc-title">Table of Contents</div><dl class="toc"><dt><span class="section"><a href="#tree.preamble">1. Hierarchical Data Structures and Related
    Concepts for the C++ Standard Library</a></span></dt><dd><dl><dt><span class="section"><a href="#tree.preamble.introduction">1.1. Introduction</a></span></dt><dt><span class="section"><a href="#tree.preamble.motivation_and_scope">1.2. Motivation and Scope</a></span></dt><dd><dl><dt><span class="section"><a href="#tree.preamble.motivation_and_scope.why_is_this_important">1.2.1. Why
        is this important?</a></span></dt><dt><span class="section"><a href="#tree.preamble.motivation_and_scope.what_kinds_of_problems_does_it_a">1.2.2. What
        kinds of problems does it address, and what kinds of programmers is it intended
        to support?</a></span></dt><dt><span class="section"><a href="#tree.preamble.motivation_and_scope.is_it_based_on_existing_practice">1.2.3. Is
        it based on existing practice?</a></span></dt><dt><span class="section"><a href="#tree.preamble.motivation_and_scope.is_there_a_reference_implementat">1.2.4. Is
        there a reference implementation?</a></span></dt></dl></dd><dt><span class="section"><a href="#tree.preamble.impact_on_the_standard">1.3. Impact on the Standard</a></span></dt><dd><dl><dt><span class="section"><a href="#tree.preamble.impact_on_the_standard.what_does_it_depend_on_and_what_">1.3.1. What
        does it depend on, and what depends on it?</a></span></dt><dt><span class="section"><a href="#tree.preamble.impact_on_the_standard.is_it_a_pure_extension_or_does_i">1.3.2. Is
        it a pure extension, or does it require changes to standard components?</a></span></dt><dt><span class="section"><a href="#tree.preamble.impact_on_the_standard.can_it_be_implemented_using_toda">1.3.3. Can
        it be implemented using today's compilers, or does it require language features
        that will only be available as part of C++11</a></span></dt></dl></dd><dt><span class="section"><a href="#tree.preamble.important_design_decisions">1.4. Important Design
      Decisions</a></span></dt><dd><dl><dt><span class="section"><a href="#tree.preamble.important_design_decisions.why_did_you_choose_the_specific_">1.4.1. Why
        did you choose the specific design that you did?</a></span></dt><dt><span class="section"><a href="#tree.preamble.important_design_decisions.what_alternatives_did_you_consid">1.4.2. What
        alternatives did you consider, and what are the tradeoffs?</a></span></dt><dt><span class="section"><a href="#tree.preamble.important_design_decisions.what_are_the_consequences_of_you">1.4.3. What
        are the consequences of your choices, for users and implementors?</a></span></dt><dt><span class="section"><a href="#tree.preamble.important_design_decisions.what_decisions_are_left_up_to_im">1.4.4. What
        decisions are left up to implementors?</a></span></dt><dt><span class="section"><a href="#tree.preamble.important_design_decisions.if_there_are_any_similar_librari">1.4.5. If
        there are any similar libraries in use, how do their design decisions compare
        to yours?</a></span></dt></dl></dd><dt><span class="section"><a href="#tree.preamble.future_directions">1.5. Future Directions</a></span></dt></dl></dd><dt><span class="section"><a href="#tree.proposal">2. Proposed Text</a></span></dt><dd><dl><dt><span class="section"><a href="#tree.proposal.containers">23. Container library <span class="std_section_label">[containers]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.proposal.hierarchy">23.7. Hierarchy
  containers <span class="std_section_label">[hierarchy]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.req">23.7.1. Hierarchy containers requirements <span class="std_section_label">[hierarchy.req]</span></a></span></dt><dt><span class="section"><a href="#tree.plain">23.7.2. Plain hierarchies <span class="std_section_label">[hierarchy.plain]</span></a></span></dt><dt><span class="section"><a href="#tree.multiway">23.7.3. Multiway hierarchies <span class="std_section_label">[hierarchy.multiway]</span></a></span></dt><dt><span class="section"><a href="#tree.tree">23.7.4. Trees <span class="std_section_label">[hierarchy.tree]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.tree.bintree">23.7.4.1. Class template <code class="literal">binary_tree</code>
      <span class="std_section_label">[hierarchy.bintree]</span></a></span></dt><dt><span class="section"><a href="#tree.tree.narytree">23.7.4.2. Class template <code class="literal">nary_tree</code>
      <span class="std_section_label">[narytree]</span></a></span></dt><dt><span class="section"><a href="#tree.tree.adaptors">23.7.4.3. Hierarchy adaptors <span class="std_section_label">[hierarchy.adaptors]</span></a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#tree.proposal.iterators">24. Iterators library
  <span class="std_section_label">[iterators]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#lib.iterator.synopsis">24.3. Headers
  <code class="literal">&lt;iterator&gt;</code> synopsis <span class="std_section_label">[lib.iterator.synopsis]</span></a></span></dt><dt><span class="section"><a href="#cursors">24.7. Cursors <span class="std_section_label">[cursors]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.cursor_requirements">24.7.1. Cursor requirements <span class="std_section_label">[cursor.requirements]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.cursor_requirements.descending">24.7.1.1. Descending Cursor
      <span class="std_section_label">[descending.cursors]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_requirements.descending_forward">24.7.1.2. Descending
      Forward Cursor <span class="std_section_label">[descending.forward.cursors]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_requirements.descending_bidirectional">24.7.1.3. Descending
      Bidirectional Cursor <span class="std_section_label">[descending.bidirectional.cursors]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_requirements.descending_random_access">24.7.1.4. Descending
      Random Access Cursor <span class="std_section_label">[descending.random.access.cursors]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_requirements.ascending">24.7.1.5. Ascending Cursor
      <span class="std_section_label">[ascending.cursors]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_requirements.ascending_forward">24.7.1.6. Ascending
      Forward Cursor <span class="std_section_label">[ascending.forward.cursors]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_requirements.ascending_bidirectional">24.7.1.7. Ascending
      Bidirectional Cursor <span class="std_section_label">[ascending.bidirectional.cursors]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_requirements.ascending_random_access">24.7.1.8. Ascending
      Random Access Cursor <span class="std_section_label">[ascending.random.access.cursors]</span></a></span></dt></dl></dd><dt><span class="section"><a href="#tree.cursor_flavors">24.7.2. Cursor flavors <span class="std_section_label">[cursor.flavors]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_synopsis">24.7.3. Header <code class="literal">&lt;cursor&gt;</code>
    synopsis <span class="std_section_label">[cursor.synopsis]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_primitives">24.7.4. Cursor primitives <span class="std_section_label">[cursor.primitives]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.cursor_primitives.cursor_traits">24.7.4.1. Cursor traits
      <span class="std_section_label">[cursor.traits]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_primitives.cursor_basic">24.7.4.2. Basic cursor <span class="std_section_label">[cursor.basic]</span></a></span></dt><dt><span class="section"><a href="#tree.cursor_primitives.cursor_tags">24.7.4.3. Standard cursor tags
      <span class="std_section_label">[cursor.tags]</span></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#order.iterators">24.8. Linear order traversal iterators <span class="std_section_label">[order.iterators]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.order_iterator">24.8.1. Class template <code class="literal">iterator</code>
    <span class="std_section_label">[order.iterator]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_requirements">24.8.2. Linear order <code class="literal">iterator</code>
    requirements <span class="std_section_label">[order.iter.requirements]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_ops">24.8.3. <code class="literal">inorder::iterator</code>
    operations <span class="std_section_label">[order.iter.ops]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.order_iter_ops.order_iter_cons">24.8.3.1. <code class="literal">inorder::iterator</code>
      constructor <span class="std_section_label">[order.iter.cons]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_ops.order_iter_conv">24.8.3.2. Conversion <span class="std_section_label">[order.iter.conv]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_ops.order_iter_op_star">24.8.3.3. <code class="literal">operator*</code>
      <span class="std_section_label">[order.iter.op.star]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_ops.order_iter_op_ref">24.8.3.4. <code class="literal">operator-&gt;</code>
      <span class="std_section_label">[order.iter.op.ref]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_ops.order_iter_op_inc">24.8.3.5. <code class="literal">operator++</code>
      <span class="std_section_label">[order.iter.op.inc]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_ops.order_iter_op_dec">24.8.3.6. <code class="literal">operator--</code>
      <span class="std_section_label">[order.iter.op.dec]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_ops.order_iter_op_eq">24.8.3.7. <code class="literal">operator==</code>
      <span class="std_section_label">[order.iter.op.eq]</span></a></span></dt><dt><span class="section"><a href="#tree.order_iter_ops.order_iter_op_ne">24.8.3.8. <code class="literal">operator!=</code>
      <span class="std_section_label">[order.iter.op.ne]</span></a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#tree.proposal.algorithms">25. Algorithms
  library <span class="std_section_label">[algorithms]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#alg.hierarchy">25.3. Non-modifying hierarchy algorithms <span class="std_section_label">[alg.hierarchy]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.alg_hier_preorder">25.3.1. Non-modifying hierarchy preorder
    range algorithms <span class="std_section_label">[alg.hier.preorder]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.alg_hier_preorder.alg_hier_pre_begin">25.3.1.1. Preorder begin
      <span class="std_section_label">[alg.hier.pre.begin]</span></a></span></dt><dt><span class="section"><a href="#tree.alg_hier_preorder.alg_hier_pre_end">25.3.1.2. Preorder end
      <span class="std_section_label">[alg.hier.pre.end]</span></a></span></dt></dl></dd><dt><span class="section"><a href="#tree.alg_hier_postorder">25.3.2. Non-modifying hierarchy postorder
    range algorithms <span class="std_section_label">[alg.hier.postorder]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.alg_hier_postorder.alg_hier_post_begin">25.3.2.1. Postorder
      begin <span class="std_section_label">[alg.hier.post.begin]</span></a></span></dt><dt><span class="section"><a href="#tree.alg_hier_postorder.alg_hier_post_end">25.3.2.2. Postorder
      end <span class="std_section_label">[alg.hier.post.end]</span></a></span></dt></dl></dd><dt><span class="section"><a href="#tree.alg_hier_inorder">25.3.3. Non-modifying hierarchy inorder
    range algorithms <span class="std_section_label">[alg.hier.inorder]</span></a></span></dt><dd><dl><dt><span class="section"><a href="#tree.alg_hier_inorder.alg_hier_in_begin">25.3.3.1. Inorder begin
      <span class="std_section_label">[alg.hier.in.begin]</span></a></span></dt><dt><span class="section"><a href="#tree.alg_hier_inorder.alg_hier_in_end">25.3.3.2. Inorder end <span class="std_section_label">[alg.hier.in.end]</span></a></span></dt></dl></dd></dl></dd></dl></dd></dl></dd><dt><span class="section"><a href="#tree.references">3. References</a></span></dt></dl></div><div class="section  tree_preamble" id="tree.preamble"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1. <a class="link" href="#tree.preamble" title="1. Hierarchical Data Structures and Related Concepts for the C++ Standard Library">Hierarchical Data Structures and Related
    Concepts for the C++ Standard Library</a></h2></div></div></div><p>
      <span class="bold"><strong>Bernhard Reiter and René Rivera</strong></span>
    </p><div class="variablelist"><div class="variablelist-title"></div><dl class="variablelist"><dt><span class="term">Document No.</span></dt><dd><p>
            WG21/N????=J16/??-????
          </p></dd><dt><span class="term">Supercedes</span></dt><dd><p>
            WG21/N2101=J16/06-0171
          </p></dd><dt><span class="term">Date</span></dt><dd><p>
            2013-May-20
          </p></dd><dt><span class="term">Project</span></dt><dd><p>
            Programming Language C++
          </p></dd><dt><span class="term">Reply to</span></dt><dd><p>
            René Rivera &lt;<a href="mailto:rrivera@acm.org" target="_top">rrivera@acm.org</a>&gt;
          </p></dd></dl></div><div class="section  tree_preamble_introduction" id="tree.preamble.introduction"><div class="titlepage"><div><div><h3 class="title">1.1. <a class="link" href="#tree.preamble.introduction" title="1.1. Introduction">Introduction</a></h3></div></div></div><p>
        This paper proposes addition of library components covering tree structures
        and related concepts to the C++ Standard Library Technical Report 2. The
        proposal is based on work towards a Boost tree component library.
      </p><p>
        The library strives to cover many of the relevant aspects within the vast
        field linked to the notion of trees in computer science.
      </p></div><div class="section  tree_preamble_motivation_and_scope" id="tree.preamble.motivation_and_scope"><div class="titlepage"><div><div><h3 class="title">1.2. <a class="link" href="#tree.preamble.motivation_and_scope" title="1.2. Motivation and Scope">Motivation and Scope</a></h3></div></div></div><div class="section  tree_preamble_motivation_and_scope_why_is_this_important" id="tree.preamble.motivation_and_scope.why_is_this_important"><div class="titlepage"><div><div><h4 class="title">1.2.1. <a class="link" href="#tree.preamble.motivation_and_scope.why_is_this_important" title="1.2.1. Why is this important?">Why
        is this important?</a></h4></div></div></div><p>
          This proposal is motivated by the wish to establish methods of dealing
          with hierarchical data structures in a manner that is similar to that of
          the Standard Template Library (STL) for linear ones. That is, it seeks
          to provide clear, straight-forward, versatile and comprehensive concepts,
          data structures and algorithms for trees and related structures that allow
          efficient implementation while not exposing implementation details.
        </p><p>
          In particular, this proposal strives to unite types of hierarchical data
          structures that have historically been treated separately, although there
          is arguably good reason to view their role for algorithms as different
          aspects of common underlying concepts. Formally, this proposal's desired
          scope is covering all <span class="emphasis"><em>rooted ordered connected acyclic graphs</em></span>.
        </p></div><div class="section  tree_preamble_motivation_and_scope_what_kinds_of_problems_does_it_a" id="tree.preamble.motivation_and_scope.what_kinds_of_problems_does_it_a"><div class="titlepage"><div><div><h4 class="title">1.2.2. <a class="link" href="#tree.preamble.motivation_and_scope.what_kinds_of_problems_does_it_a" title="1.2.2. What kinds of problems does it address, and what kinds of programmers is it intended to support?">What
        kinds of problems does it address, and what kinds of programmers is it intended
        to support?</a></h4></div></div></div><p>
          Existing tree implementations as listed in the References section as well
          as the number of posts on C++ related newsgroups give an evidence of very
          general, high interest in tree and related data structures. Formalization
          of how to deal with hierarchical data structures seems to be relevant as
          programmers of any level of skill working in any given field is likely
          to need such a structure at one point.
        </p></div><div class="section  tree_preamble_motivation_and_scope_is_it_based_on_existing_practice" id="tree.preamble.motivation_and_scope.is_it_based_on_existing_practice"><div class="titlepage"><div><div><h4 class="title">1.2.3. <a class="link" href="#tree.preamble.motivation_and_scope.is_it_based_on_existing_practice" title="1.2.3. Is it based on existing practice?">Is
        it based on existing practice?</a></h4></div></div></div><p>
          No; this proposal originates in an effort to create a generic tree container
          component for <a href="http://www.boost.org" target="_top">Boost</a> in the course
          of <a href="http://code.google.com/soc/2006/boost/appinfo.html?csaid=E17EA7C7C537C131" target="_top">Google
          Summer of Code™ 2006</a>, so at the time of this writing, implementation
          work is still unfinished and, however inspired by and striving to avoid
          past issues and such ones arising from current implementation efforts (see
          below) it is, it has not been used in practice yet.
        </p></div><div class="section  tree_preamble_motivation_and_scope_is_there_a_reference_implementat" id="tree.preamble.motivation_and_scope.is_there_a_reference_implementat"><div class="titlepage"><div><div><h4 class="title">1.2.4. <a class="link" href="#tree.preamble.motivation_and_scope.is_there_a_reference_implementat" title="1.2.4. Is there a reference implementation?">Is
        there a reference implementation?</a></h4></div></div></div><p>
          Yes; the current state is available from svn from <a href="http://svn.boost.org/svn/boost/sandbox/tree" target="_top">http://svn.boost.org/svn/boost/sandbox/tree</a>.
        </p></div></div><div class="section  tree_preamble_impact_on_the_standard" id="tree.preamble.impact_on_the_standard"><div class="titlepage"><div><div><h3 class="title">1.3. <a class="link" href="#tree.preamble.impact_on_the_standard" title="1.3. Impact on the Standard">Impact on the Standard</a></h3></div></div></div><div class="section  tree_preamble_impact_on_the_standard_what_does_it_depend_on_and_what_" id="tree.preamble.impact_on_the_standard.what_does_it_depend_on_and_what_"><div class="titlepage"><div><div><h4 class="title">1.3.1. <a class="link" href="#tree.preamble.impact_on_the_standard.what_does_it_depend_on_and_what_" title="1.3.1. What does it depend on, and what depends on it?">What
        does it depend on, and what depends on it?</a></h4></div></div></div><p>
          It depends on some standard library components, such as <code class="literal">std::allocator</code>
          which is used as the default allocator template argument at some points.
          Concepts like allocators or iterators are reused and in some cases adapted.
        </p></div><div class="section  tree_preamble_impact_on_the_standard_is_it_a_pure_extension_or_does_i" id="tree.preamble.impact_on_the_standard.is_it_a_pure_extension_or_does_i"><div class="titlepage"><div><div><h4 class="title">1.3.2. <a class="link" href="#tree.preamble.impact_on_the_standard.is_it_a_pure_extension_or_does_i" title="1.3.2. Is it a pure extension, or does it require changes to standard components?">Is
        it a pure extension, or does it require changes to standard components?</a></h4></div></div></div><p>
          Most of the proposed library is a pure extension.
        </p><p>
          Some extensions <code class="literal">&lt;algorithm&gt;</code> and some extensions
          to <code class="literal">&lt;iterator&gt;</code> are proposed.
        </p><p>
          Additionally, while not proposed herein, it has sometimes been suggested
          to add a template parameter to the STL associative containers <code class="literal">set</code>,
          <code class="literal">multiset</code>, <code class="literal">map</code>, and <code class="literal">multimap</code>
          (and possibly an argument to their constructors) specifying a policy for
          storing elements, or, more concretely, what tree. The balancers presented
          in this proposal would lend themselves to such use. Indicating what type
          of balanced hierarchy to use for associative containers would create some
          amount of symmetry to TR1's <code class="literal">unordered</code> containers that
          allow specification of a hash functor; it is however a momentous decision
          in which position to put such a parameter. The same position as for <code class="literal">unordered</code>
          containers (before the comparison functor) would require changes in existing
          code; making it the last parameter (after the allocator) would allow existing
          code to remain unchanged, but seems somewhat irritating when compared to
          <code class="literal">unordered</code> containers.
        </p></div><div class="section  tree_preamble_impact_on_the_standard_can_it_be_implemented_using_toda" id="tree.preamble.impact_on_the_standard.can_it_be_implemented_using_toda"><div class="titlepage"><div><div><h4 class="title">1.3.3. <a class="link" href="#tree.preamble.impact_on_the_standard.can_it_be_implemented_using_toda" title="1.3.3. Can it be implemented using today's compilers, or does it require language features that will only be available as part of C++11">Can
        it be implemented using today's compilers, or does it require language features
        that will only be available as part of C++11</a></h4></div></div></div><p>
          It can be, and partly has been, implemented with today's compilers.
        </p><p>
          Note that it might be worthwhile to investigate if the present Container
          concept should be modified so that it only covers the requirements as of
          paragraph 2 of section <a href="#tr.hierarchy.req" target="_top">[tr.hierarchy.req]</a>
          of this proposal, which correspond to the current Container concept with
          the exception of any expressions that implicitly assume linear internal
          structure and outsource those to a "Linear Container" concept
          as similarly formalized in the <a href="http://boost.org/libs/range/doc/range.html" target="_top">Boost
          Range concept</a> (<a href="http://boost.org/libs/range/doc/range.html" target="_top">http://boost.org/libs/range/doc/range.html</a>)
          externally to the Standard.
        </p></div></div><div class="section  tree_preamble_important_design_decisions" id="tree.preamble.important_design_decisions"><div class="titlepage"><div><div><h3 class="title">1.4. <a class="link" href="#tree.preamble.important_design_decisions" title="1.4. Important Design Decisions">Important Design
      Decisions</a></h3></div></div></div><div class="section  tree_preamble_important_design_decisions_why_did_you_choose_the_specific_" id="tree.preamble.important_design_decisions.why_did_you_choose_the_specific_"><div class="titlepage"><div><div><h4 class="title">1.4.1. <a class="link" href="#tree.preamble.important_design_decisions.why_did_you_choose_the_specific_" title="1.4.1. Why did you choose the specific design that you did?">Why
        did you choose the specific design that you did?</a></h4></div></div></div><p>
          One of the most important assets of the present design is the cursor concept
          as a hierarchical continuation to the STL's iterator concept, and the externally
          defined range concept. Among their benefits, cursors allow to handle both
          client data access, by dereference, and subtree access while hiding the
          normally underlying node structure and providing a uniform interface to
          algorithms that are thus enabled to deal with a number of different kinds
          of trees. On the other hand, this abstraction achieves independence of
          implementation details, such as nodes for storage in many cases, allowing
          the underlying concepts to be applicable to other possible implementations
          as well.
        </p></div><div class="section  tree_preamble_important_design_decisions_what_alternatives_did_you_consid" id="tree.preamble.important_design_decisions.what_alternatives_did_you_consid"><div class="titlepage"><div><div><h4 class="title">1.4.2. <a class="link" href="#tree.preamble.important_design_decisions.what_alternatives_did_you_consid" title="1.4.2. What alternatives did you consider, and what are the tradeoffs?">What
        alternatives did you consider, and what are the tradeoffs?</a></h4></div></div></div><h6 id="tree.preamble.important_design_decisions.what_alternatives_did_you_consid.h0">
          <span id="tree.preamble.important_design_decisions.what_alternatives_did_you_consid.trees_of_trees" class="phrase"></span><a class="link" href="#tree.preamble.important_design_decisions.what_alternatives_did_you_consid.trees_of_trees">Trees
          of trees</a>
        </h6><p>
          Trees, being recursively defined data structures, seem to somewhat lend
          themselves to recursive implementation, i.e. declaring them in a way so
          they consist of a client value part and a certain number of trees in turn
          (as e.g. in case of <a class="link" href="#">[haas]</a>). Such an approach
          would allow for uniform treatment of the subtrees, but would duplicate
          allocators and imply structure that need not be present. The tree, like
          existing STL containers, should be responsible for data representation
          and storage.
        </p><h6 id="tree.preamble.important_design_decisions.what_alternatives_did_you_consid.h1">
          <span id="tree.preamble.important_design_decisions.what_alternatives_did_you_consid.augmentors_balancers_as_policies" class="phrase"></span><a class="link" href="#tree.preamble.important_design_decisions.what_alternatives_did_you_consid.augmentors_balancers_as_policies">Augmentors/balancers
          as policies</a>
        </h6><p>
          Inspired by <a class="link" href="#">[austern]</a> and <a class="link" href="#">[dreizin]</a>,
          the original approach undertaken when working on the reference implementation
          was to pass policy template arguments to template class <code class="literal">binary_tree</code>.
          While reproducing the (otherwise unbalanced) tree/cursor interface seemed
          logical at first, it turned out that this was conceptually not entirely
          clean, as e.g. it preferred one type of linear order, namely inorder, over
          the others by putting such strong focus on inorder-invariant balancing
          and its possible applications; also, balancing and augmenting metadata
          would inevitably have been much more visible. It seemed more appropriate
          to have different balancing adaptors and augmenting adaptors that would
          replicate the interface to do that work.
        </p></div><div class="section  tree_preamble_important_design_decisions_what_are_the_consequences_of_you" id="tree.preamble.important_design_decisions.what_are_the_consequences_of_you"><div class="titlepage"><div><div><h4 class="title">1.4.3. <a class="link" href="#tree.preamble.important_design_decisions.what_are_the_consequences_of_you" title="1.4.3. What are the consequences of your choices, for users and implementors?">What
        are the consequences of your choices, for users and implementors?</a></h4></div></div></div><p>
          As focus was put on versatility and comprehensiveness, we hope users will
          find this a powerful framework that covers most important aspects of dealing
          with hierarchical data structures in a rather intuitive way, once they
          have adapted to the notion of cursors which, although being the interface
          relevant portion of the well-known node implementation of trees, partly
          diverge in their usage from plain node objects.
        </p><p>
          Wherever reasonably possible, strong time complexity guarantees are given,
          which mostly, while trying not to require much space overhead, demand implementations
          that make use of any time and space saving techniques available (e.g. using
          arrays for both children of a binary tree node, see e.g. <a class="link" href="#">[austern]</a>),
          which may partly restrict implementors to one "proper" way of
          doing things.
        </p></div><div class="section  tree_preamble_important_design_decisions_what_decisions_are_left_up_to_im" id="tree.preamble.important_design_decisions.what_decisions_are_left_up_to_im"><div class="titlepage"><div><div><h4 class="title">1.4.4. <a class="link" href="#tree.preamble.important_design_decisions.what_decisions_are_left_up_to_im" title="1.4.4. What decisions are left up to implementors?">What
        decisions are left up to implementors?</a></h4></div></div></div><p>
          Most of the requirements for the library components presented in this proposal
          are rather tightly formulated in order to allow for them being both efficient
          and general enough. It is however hoped that the conceptual abstraction
          of hierarchies and cursors may be of general use, also allowing for more
          specific implementations where required (although probably not as part
          of the library; ideally comparable to the role of containers and iterators
          in modern C++ code).
        </p></div><div class="section  tree_preamble_important_design_decisions_if_there_are_any_similar_librari" id="tree.preamble.important_design_decisions.if_there_are_any_similar_librari"><div class="titlepage"><div><div><h4 class="title">1.4.5. <a class="link" href="#tree.preamble.important_design_decisions.if_there_are_any_similar_librari" title="1.4.5. If there are any similar libraries in use, how do their design decisions compare to yours?">If
        there are any similar libraries in use, how do their design decisions compare
        to yours?</a></h4></div></div></div><p>
          Trees, having attracted much attention in the C++ community, are found
          in various implementations and as subjects of a number of papers. Contrary
          to the present proposal, practically all of them deal either with trees
          as used for sorted associative containers (with logarithmic time complexity
          for more relevant operations, achieved by some sort of balancing; examples
          are <a class="link" href="#">[dreizin]</a>, <a class="link" href="#">[ekman]</a>
          and <a class="link" href="#">[karas]</a>; plus, most current STL implementations
          use a red-black tree as their associative containers' base) or with what
          we call "external" hierarchies in the following (whose structure
          is dictated e.g. by a file system directory tree, an XML file or an AST;
          see e.g. <a class="link" href="#">[gottschlich]</a>, <a class="link" href="#">[haas]</a>,
          <a class="link" href="#">[parent]</a> and <a class="link" href="#">[peeters]</a>),
          but rarely both fields of application.
        </p><p>
          Approaches as found in <a class="link" href="#">[austern]</a> or <a class="link" href="#">[mirwaisi]</a> go some steps further and have provided
          valuable inspiration for this project, but still do not formalize anything
          similar as the cursor-based interface in this proposal for dealing with
          a tree's contents.
        </p><p>
          The <a href="http://www.boost.org/libs/graph/" target="_top">BGL</a>, finally,
          deals with graphs that are even more general than hierarchical ones, which
          does not allow them to profit from specific hierarchy properties as much
          as the ones presented in this proposal. Making cursors logical extensions
          of iterators would probably also have been more difficult with a BGL-based
          approach.
        </p></div></div><div class="section  tree_preamble_future_directions" id="tree.preamble.future_directions"><div class="titlepage"><div><div><h3 class="title">1.5. <a class="link" href="#tree.preamble.future_directions" title="1.5. Future Directions">Future Directions</a></h3></div></div></div><p>
        While it is hoped that the current proposal somewhat reunites balanced binary
        trees, B-trees and "external" hierarchies, which should also facilitate
        work with some higher-level structures (e.g. n-ary trees to implement tries),
        some of those higher-level components might be an interesting feature to
        add to the library, such as patricia tries or ternary search tries.
      </p></div></div><div class="section std_proposal tree_proposal" id="tree.proposal"><div class="titlepage"><div><div><h2 class="title" style="clear: both">2. <a class="link" href="#tree.proposal" title="2. Proposed Text">Proposed Text</a></h2></div></div></div><div class="note"><h3 class="title">Note</h3><p>
      Notes that are not part of the proposed text appear in gray boxes.
    </p></div><div class="section std_section tree_proposal_containers" id="tree.proposal.containers"><div class="titlepage"><div><div><h3 class="title">23. <a class="link" href="#tree.proposal.containers" title="23. Container library [containers]">Container library <span class="std_section_label">[containers]</span></a></h3></div></div></div><div class="section std_section tree_proposal_hierarchy" id="tree.proposal.hierarchy"><div class="titlepage"><div><div><h4 class="title">23.7. <a class="link" href="#tree.proposal.hierarchy" title="23.7. Hierarchy containers [hierarchy]">Hierarchy
  containers <span class="std_section_label">[hierarchy]</span></a></h4></div></div></div><div class="section  tree_req" id="tree.req"><div class="titlepage"><div><div><h5 class="title">23.7.1. <a class="link" href="#tree.req" title="23.7.1. Hierarchy containers requirements [hierarchy.req]">Hierarchy containers requirements <span class="std_section_label">[hierarchy.req]</span></a></h5></div></div></div><div class="simplesect std_requisite" id="idp4610992"><div class="titlepage"></div><p>
      A hierarchy is an object that stores a finite set of objects, all of the same
      type, in a hierarchical manner. Hierarchies introduce a cursor concept for
      navigation instead of iterators. The library provides two kinds of native hierarchies:
      <code class="literal">binary_tree</code>, and <code class="literal">nary_tree</code>, along with
      hierarchy-yielding hierarchy adaptors <code class="literal">forest_tree</code>, and
      <code class="literal">multiway_tree</code>.
    </p></div><div class="simplesect std_requisite" id="idp4614624"><div class="titlepage"></div><p>
      Hierarchy containers conform to the requirements of Containers ([lib.container.requirements]),
      except that the expressions in Table 1 are not required to be valid, where
      a and b denote values of a type X, and X is a hierarchy container class:
    </p><div class="table" id="tree.req.table1"><div class="table-title">Table 1. Container requirements that are not required for hierarchy containers</div><div class="table-contents"><table class="table" summary="Container requirements that are not required for hierarchy containers"><colgroup><col></colgroup><thead><tr><th>
              <p>
                unsupported expression
              </p>
            </th></tr></thead><tbody><tr><td>
              <p>
                <code class="literal">X::iterator</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">X::const_iterator</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">X::reverse_iterator</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">X::const_reverse_iterator</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.begin()</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.end()</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.rbegin()</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.rend()</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a &lt; b</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a &gt; b</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a &lt;= b</code>
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a &gt;= b</code>
              </p>
            </td></tr></tbody></table></div></div><br class="table-break"><p>
      Non-constant complexity requirements in this clause are stated in one of a
      number of possible different ways: unless specified otherwise, they are expressed
      in terms of the number of operations <code class="literal">n</code>, which stands for
      the total number of elements in the hierarchy; in some cases, however, they
      are stated in terms of another value.
    </p></div><div class="simplesect std_requisite" id="idp4642480"><div class="titlepage"></div><p>
      In Table 2: <code class="literal">X</code> denotes a hierarchy class containing objects
      of type <code class="literal">T</code> and <code class="literal">a</code> denotes a value of type
      <code class="literal">X</code>.
    </p><div class="table" id="tree.req.table2"><div class="table-title">Table 2. Hierarchy requirements (in addition to container)</div><div class="table-contents"><table class="table" summary="Hierarchy requirements (in addition to container)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
              <p>
                expression
              </p>
            </th><th>
              <p>
                return type
              </p>
            </th><th>
              <p>
                assertion/note<br> pre/post-condition
              </p>
            </th><th>
              <p>
                complexity
              </p>
            </th></tr></thead><tbody><tr><td>
              <p>
                <code class="literal">X::cursor</code>
              </p>
            </td><td>
              <p>
                cursor type pointing to <code class="literal">T</code>
              </p>
            </td><td>
              <p>
                any cursor category
              </p>
            </td><td>
              <p>
                compile time
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">X::const_cursor</code>
              </p>
            </td><td>
              <p>
                cursor type pointing to <code class="literal">const T</code>
              </p>
            </td><td>
              <p>
                any cursor category
              </p>
            </td><td>
              <p>
                compile time
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.root()</code>
              </p>
            </td><td>
              <p>
                <code class="literal">iterator</code> for mutable <code class="literal">a</code>;<br>
                <code class="literal">const_iterator</code> for constant <code class="literal">a</code>
              </p>
            </td><td>
              <p>
                 
              </p>
            </td><td>
              <p>
                constant
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.croot()</code>
              </p>
            </td><td>
              <p>
                <code class="literal">const_iterator</code>
              </p>
            </td><td>
              <p>
                 
              </p>
            </td><td>
              <p>
                constant
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.shoot()</code>
              </p>
            </td><td>
              <p>
                <code class="literal">iterator</code> for mutable <code class="literal">a</code>;<br>
                <code class="literal">const_iterator</code> for constant <code class="literal">a</code>
              </p>
            </td><td>
              <p>
                 
              </p>
            </td><td>
              <p>
                (Note A)
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.cshoot()</code>
              </p>
            </td><td>
              <p>
                <code class="literal">const_iterator</code>
              </p>
            </td><td>
              <p>
                 
              </p>
            </td><td>
              <p>
                (Note A)
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">typename X::template rebind&lt;U&gt;::other</code>
              </p>
            </td><td>
              <p>
                <code class="literal">Y</code>
              </p>
            </td><td>
              <p>
                For all <code class="literal">U</code> (including <code class="literal">T</code>), <code class="literal">Y::template
                rebind&lt;T&gt;::other</code> is <code class="literal">X</code>.
              </p>
            </td><td>
              <p>
                compile time
              </p>
            </td></tr></tbody></table></div></div><br class="table-break"><p>
      Notes: Those entries marked "(Note A)" should have at worst linear
      complexity. See the individual hierarchy containers for specific complexity.
    </p></div><div class="simplesect std_requisite" id="idp4692592"><div class="titlepage"></div><p>
      <code class="literal">root()</code> and <code class="literal">croot()</code> return a cursor which
      is the on-top value for the hierarchy. <code class="literal">shoot()</code> and <code class="literal">cshoot()</code>
      return a cursor which is the past-the-end value that is found one past the
      hierarchy's rightmost element. If the hierarchy is empty, then <code class="literal">root()
      == shoot();</code>
    </p></div><div class="simplesect std_requisite" id="idp4696736"><div class="titlepage"></div><p>
      Copy constructors for all hierarchy types defined in this clause copy the allocator
      argument from their respective first parameters. All other constructors for
      these hierarchy types take an <code class="literal">Allocator&amp;</code> argument (20.1.5).
      A copy of this argument is used for any memory allocation performed, by these
      constructors and by all member functions, during the lifetime of each hierarchy
      object. In all hierarchy types defined in this clause, the member <code class="literal">get_allocator()</code>
      returns a copy of the Allocator object used to construct the hierarchy.
    </p></div><div class="simplesect std_requisite" id="idp4699408"><div class="titlepage"></div><p>
      The member class template <code class="literal">rebind</code> in the table above is effectively
      a typedef template: if the name <code class="literal">Hierarchy</code> is bound to <code class="literal">SomeHierarchy&lt;T&gt;</code>,
      then <code class="literal">Hierarchy::rebind&lt;U&gt;::other</code> is the same type
      as <code class="literal">SomeHierarchy&lt;U&gt;</code>. Additionally, because of the
      related assertion, given <code class="literal">SomeHierarchy&lt;T,R0,...,Rn&gt;</code>
      for all template arguments present is bound to the name <code class="literal">Hierarchy</code>,
      then <code class="literal">Hierarchy::rebind&lt;U&gt;::other</code> is the same type
      as <code class="literal">SomeHierarchy&lt;U,S0,...,Sn&gt;</code> such that the types
      <code class="literal">S0</code> through <code class="literal">Sn</code> are the same as <code class="literal">R0</code>
      through <code class="literal">Rn</code>, respectively, when <code class="literal">U</code> is the
      same type as <code class="literal">T</code>.
    </p></div><div class="simplesect std_requisite" id="idp4709600"><div class="titlepage"></div><p>
      A hierarchy satisfying the requirements shown in Table 3 is called a <span class="emphasis"><em>mutable
      hierarchy</em></span>. In Table 3, <code class="literal">X</code> denotes a hierarchy
      class, <code class="literal">a</code> denotes a value of <code class="literal">X</code>, <code class="literal">c</code>
      denotes a valid, non-on-top cursor satisfying input cursor requirements, <code class="literal">p</code>
      denotes a valid, non-on-top cursor to <code class="literal">a</code>, <code class="literal">q</code>
      denotes a valid, dereferenceable cursor to <code class="literal">a</code>, and <code class="literal">t</code>
      denotes a value of <code class="literal">X::value_type</code>.
    </p><div class="table" id="tree.req.table3"><div class="table-title">Table 3. Mutable hierarchy requirements</div><div class="table-contents"><table class="table" summary="Mutable hierarchy requirements"><colgroup><col><col><col><col></colgroup><thead><tr><th>
              <p>
                expression
              </p>
            </th><th>
              <p>
                return type
              </p>
            </th><th>
              <p>
                assertion/note<br> pre/post-condition
              </p>
            </th><th>
              <p>
                complexity
              </p>
            </th></tr></thead><tbody><tr><td>
              <p>
                <code class="literal">a.insert(p,t)</code>
              </p>
            </td><td>
              <p>
                <code class="literal">cursor</code>
              </p>
            </td><td>
              <p>
                inserts a copy of <code class="literal">t</code> before <code class="literal">p</code>
              </p>
            </td><td>
              <p>
                (Note A)
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.clear(q)</code>
              </p>
            </td><td>
              <p>
                <code class="literal">void</code>
              </p>
            </td><td>
              <p>
                deletes the subtree of <code class="literal">q</code> and the element <code class="literal">q</code>
                points to.<br> pre: <code class="literal">q</code> is dereferenceable.
              </p>
            </td><td>
              <p>
                Should be at worst linear in the the number of elements in the subtree
                of <code class="literal">q</code> plus the distance to <code class="literal">q</code>'s
                parent's <code class="literal">end()</code>.
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.clear()</code>
              </p>
            </td><td>
              <p>
                <code class="literal">void</code>
              </p>
            </td><td>
              <p>
                <code class="literal">while (a.size()) clear(a.begin());</code><br> post:
                <code class="literal">a.size() == 0</code>
              </p>
            </td><td>
              <p>
                (Note A)
              </p>
            </td></tr></tbody></table></div></div><br class="table-break"><p>
      Notes: Those entries marked "(Note A)" should have at worst linear
      complexity. See the individual hierarchy containers for specific complexity.
    </p></div><div class="simplesect std_requisite" id="idp4744624"><div class="titlepage"></div><p>
      The cursor returned from <code class="literal">a.insert(p,t)</code> points to the copy
      of <code class="literal">t</code> inserted into <code class="literal">a</code>. Its parent cursor
      is the same as that of <code class="literal">p</code>.
    </p></div></div><div class="section  tree_plain" id="tree.plain"><div class="titlepage"><div><div><h5 class="title">23.7.2. <a class="link" href="#tree.plain" title="23.7.2. Plain hierarchies [hierarchy.plain]">Plain hierarchies <span class="std_section_label">[hierarchy.plain]</span></a></h5></div></div></div><div class="simplesect std_requisite" id="idp4749808"><div class="titlepage"></div><p>
      A hierarchy is called plain hierarchy if its cursor and const_cursor types
      satisfy the requirements of a plain cursor.
    </p></div><div class="simplesect std_requisite" id="idp4750816"><div class="titlepage"></div><p>
      The library provides one native kind of plain hierarchy, nary_tree, and a hierarchy
      adaptor that in turn yields a plain hierarchy, forest_tree.
    </p></div><div class="simplesect std_requisite" id="idp4751856"><div class="titlepage"></div><p>
      For a mutable plain hierarchy, the following expressions as shown in Table
      4, are additionally required to be valid:
    </p><div class="table" id="tree.plain.table4"><div class="table-title">Table 4. Plain hierarchy requirements</div><div class="table-contents"><table class="table" summary="Plain hierarchy requirements"><colgroup><col><col><col><col></colgroup><thead><tr><th>
              <p>
                expression
              </p>
            </th><th>
              <p>
                return type
              </p>
            </th><th>
              <p>
                assertion/note<br> pre/post-condition
              </p>
            </th><th>
              <p>
                complexity
              </p>
            </th></tr></thead><tbody><tr><td>
              <p>
                <code class="literal">a.insert(p,c)</code>
              </p>
            </td><td>
              <p>
                <code class="literal">cursor</code>
              </p>
            </td><td>
              <p>
                inserts a copy of the subtree of <code class="literal">c</code> before <code class="literal">p</code>.<br>
                pre: <code class="literal">c</code> is dereferenceable.
              </p>
            </td><td>
              <p>
                Should be at worst linear in the the number of elements in the subtree
                of <code class="literal">c</code> plus the distance to <code class="literal">p</code>'s
                parent's <code class="literal">end()</code>.
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">a.insert_above(p,t)</code>
              </p>
            </td><td>
              <p>
                <code class="literal">cursor</code>
              </p>
            </td><td>
              <p>
                inserts a copy of <code class="literal">t</code> as child of <code class="literal">p</code>'s
                parent and new parent of <code class="literal">p</code> and its siblings.<br>
                pre: <code class="literal">c</code> is dereferenceable.
              </p>
            </td><td>
              <p>
                Linear in the the number <code class="literal">p</code>'s siblings.
              </p>
            </td></tr></tbody></table></div></div><br class="table-break"></div><div class="simplesect std_requisite" id="idp4775888"><div class="titlepage"></div><p>
      The cursor returned from <code class="literal">a.insert(p,c)</code> points to the copy
      of the element that <code class="literal">c</code> points to, inserted into <code class="literal">a</code>.
      Its parent cursor is the same as that of <code class="literal">p</code>.
    </p></div></div><div class="section  tree_multiway" id="tree.multiway"><div class="titlepage"><div><div><h5 class="title">23.7.3. <a class="link" href="#tree.multiway" title="23.7.3. Multiway hierarchies [hierarchy.multiway]">Multiway hierarchies <span class="std_section_label">[hierarchy.multiway]</span></a></h5></div></div></div><div class="simplesect std_requisite" id="idp4781072"><div class="titlepage"></div><p>
      A hierarchy is called multiway hierarchy if its <code class="literal">cursor</code> and
      <code class="literal">const_cursor</code> types satisfy the requirements of a multiway
      cursor.
    </p></div><div class="simplesect std_requisite" id="idp4783296"><div class="titlepage"></div><p>
      The library provides one native kind of multiway hierarchy, <code class="literal">binary_tree</code>,
      and a hierarchy adaptor that in turn yields a multiway hierarchy, <code class="literal">multiway_tree</code>.
    </p></div><div class="simplesect std_requisite" id="idp4785536"><div class="titlepage"></div><p>
      For a mutable multiway hierarchy, the semantics of some expressions from Table
      3 are modified as shown in Table 5.
    </p><div class="table" id="tree.multiway.table5"><div class="table-title">Table 5. Multiway hierarchy requirements</div><div class="table-contents"><table class="table" summary="Multiway hierarchy requirements"><colgroup><col><col><col><col></colgroup><thead><tr><th>
              <p>
                expression
              </p>
            </th><th>
              <p>
                return type
              </p>
            </th><th>
              <p>
                assertion/note<br> pre/post-condition
              </p>
            </th><th>
              <p>
                complexity
              </p>
            </th></tr></thead><tbody><tr><td>
              <p>
                <code class="literal">a.clear(q)</code>
              </p>
            </td><td>
              <p>
                <code class="literal">void</code>
              </p>
            </td><td>
              <p>
                deletes the subtree of <code class="literal">q</code>.<br> If <code class="literal">q</code>
                is dereferenceable, the expression also deletes the element <code class="literal">q</code>
                points to.<br> If <code class="literal">q</code> is past-the-end, the expression
                deletes the element <code class="literal">q</code>'s predecessor points to.<br>
                If after either of these steps <code class="literal">q</code> has only a non-empty
                past-the-end child, that child's children become <code class="literal">q</code>'s
                children instead. Finally, that child is deleted.<br> pre: <code class="literal">q</code>
                is internal.
              </p>
            </td><td>
              <p>
                Should be at worst linear in the the number of elements in the subtree
                of <code class="literal">c</code> plus the distance to <code class="literal">p</code>'s
                parent's <code class="literal">end()</code>.
              </p>
            </td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="section  tree_tree" id="tree.tree"><div class="titlepage"><div><div><h5 class="title">23.7.4. <a class="link" href="#tree.tree" title="23.7.4. Trees [hierarchy.tree]">Trees <span class="std_section_label">[hierarchy.tree]</span></a></h5></div></div></div><div class="simplesect std_requisite" id="idp4807568"><div class="titlepage"></div><p>
      Headers <code class="literal">&lt;binary_tree&gt;</code>, <code class="literal">&lt;nary_tree&gt;</code>,
      <code class="literal">&lt;forest_tree&gt;</code>, and <code class="literal">&lt;multiway_tree&gt;</code>.
    </p><p>
      <span class="bold"><strong>Header <code class="literal">&lt;binary_tree&gt;</code> synopsis</strong></span>
    </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span> <span class="special">=</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">allocator</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span>
    <span class="keyword">class</span> <span class="identifier">binary_tree</span><span class="special">;</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Tp</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Tp</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>

<span class="special">}</span> <span class="comment">// namespace std</span>
</pre><p>
      <span class="bold"><strong>Header <code class="literal">&lt;nary_tree&gt;</code> synopsis</strong></span>
    </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span> <span class="special">=</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">allocator</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span>
    <span class="keyword">class</span> <span class="identifier">nary_tree</span><span class="special">;</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
              <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>
<span class="special">}</span> <span class="comment">// namespace std</span>
</pre><p>
      <span class="bold"><strong>Header <code class="literal">&lt;forest_tree&gt;</code> synopsis</strong></span>
    </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span> <span class="special">=</span> <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span>
    <span class="keyword">class</span> <span class="identifier">forest_tree</span><span class="special">;</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
              <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>
<span class="special">}</span> <span class="comment">// namespace std</span>
</pre><p>
      <span class="bold"><strong>Header <code class="literal">&lt;multiway_tree&gt;</code> synopsis</strong></span>
    </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span> <span class="special">=</span> <span class="identifier">nary_tree</span><span class="special">&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="special">&gt;</span>
    <span class="keyword">class</span> <span class="identifier">multiway_tree</span><span class="special">;</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>
<span class="special">}</span> <span class="comment">// namespace std</span>
</pre></div><div class="section  tree_tree_bintree" id="tree.tree.bintree"><div class="titlepage"><div><div><h6 class="title">23.7.4.1. <a class="link" href="#tree.tree.bintree" title="23.7.4.1. Class template binary_tree [hierarchy.bintree]">Class template <code class="literal">binary_tree</code>
      <span class="std_section_label">[hierarchy.bintree]</span></a></h6></div></div></div><div class="section  tree_tree_bintree_overview" id="tree.tree.bintree.overview"><div class="titlepage"><div><div><h6 class="title">23.7.4.1.1. <a class="link" href="#tree.tree.bintree.overview" title="23.7.4.1.1. Class template binary_tree overview [hiearchy.bintree.overview]">Class template <code class="literal">binary_tree</code>
        overview <span class="std_section_label">[hiearchy.bintree.overview]</span></a></h6></div></div></div><p>
          A <code class="literal">binary_tree</code> is a kind of hierarchy that satisfies
          multiway hierarchy requirements. Additionally, it supports (inorder-invariant)
          cursor rotation. Descriptions are provided here only for operations on
          <code class="literal">binary_tree</code> that are not described in one of these tables
          or for operations where there is additional semantic information.
        </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span> <span class="special">=</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">allocator</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span>
  <span class="keyword">class</span> <span class="identifier">binary_tree</span>
  <span class="special">{</span>
  <span class="keyword">public</span><span class="special">:</span>
    <span class="comment">// types:</span>
    <span class="keyword">typedef</span> <span class="identifier">T</span>                                             <span class="identifier">value_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">Alloc</span>                                         <span class="identifier">allocator_type</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">cursor</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">const_cursor</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">pointer</span>              <span class="identifier">pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">const_pointer</span>        <span class="identifier">const_pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">reference</span>            <span class="identifier">reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">const_reference</span>      <span class="identifier">const_reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">size_type</span>            <span class="identifier">size_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">difference_type</span>      <span class="identifier">difference_type</span><span class="special">;</span>

    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">U</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">rebind</span> <span class="special">{</span>
      <span class="keyword">typedef</span> <span class="identifier">binary_tree</span><span class="special">&lt;</span> <span class="identifier">U</span><span class="special">,</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="keyword">template</span> <span class="identifier">rebind</span><span class="special">&lt;</span><span class="identifier">U</span><span class="special">&gt;::</span><span class="identifier">other</span> <span class="special">&gt;</span>
        <span class="identifier">other</span><span class="special">;</span>
    <span class="special">};</span>

    <span class="comment">// construct/copy/destroy:</span>
    <span class="keyword">explicit</span> <span class="identifier">binary_tree</span> <span class="special">(</span><span class="identifier">allocator_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">allocator_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">binary_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">,</span>
        <span class="identifier">allocator_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">allocator_type</span><span class="special">());</span>
    <span class="identifier">binary_tree</span> <span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="special">~</span><span class="identifier">binary_tree</span><span class="special">();</span>
    <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="keyword">operator</span><span class="special">=(</span>
      <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="identifier">allocator_type</span> <span class="identifier">get_allocator</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// cursors:</span>
    <span class="identifier">cursor</span>        <span class="identifier">root</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">croot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">cursor</span>        <span class="identifier">shoot</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">cshoot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">cursor</span>        <span class="identifier">inorder_first</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">inorder_cfirst</span> <span class="keyword">const</span><span class="special">();</span>

    <span class="comment">// capacity:</span>
    <span class="keyword">bool</span>      <span class="identifier">empty</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">max_size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// modifiers:</span>
    <span class="identifier">cursor</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">cursor</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">rotate</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">swap</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">();</span>
  <span class="special">};</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="comment">// specialized algorithms:</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>

<span class="special">}</span> <span class="comment">// namespace std</span>
</pre></div><div class="section  tree_tree_bintree_types" id="tree.tree.bintree.types"><div class="titlepage"><div><div><h6 class="title">23.7.4.1.2. <a class="link" href="#tree.tree.bintree.types" title="23.7.4.1.2. binary_tree types [hierarchy.bintree.types]"><code class="literal">binary_tree</code>
        types <span class="std_section_label">[hierarchy.bintree.types]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp5470432"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span> <span class="identifier">cursor</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span> <span class="identifier">const_cursor</span><span class="special">;</span>
</pre></div><div class="simplesect std_requisite" id="idp5475680"><div class="titlepage"></div><p>
          Both <code class="literal">cursor</code> and <code class="literal">const_cursor</code> have
          to fulfill the multiway cursor ([cursor.flavors]) and ascending random
          access cursor ([ascending.random.access.cursors]) requirements.
        </p></div><div class="simplesect std_requisite" id="idp5477936"><div class="titlepage"></div><p>
          Additionally, for any instance a of either type <code class="literal">cursor</code>
          or <code class="literal">const_cursor</code>, <code class="literal">a.max_size() == 1</code>.
        </p></div></div><div class="section  tree_tree_bintree_cons" id="tree.tree.bintree.cons"><div class="titlepage"><div><div><h6 class="title">23.7.4.1.3. <a class="link" href="#tree.tree.bintree.cons" title="23.7.4.1.3. binary_tree constructors, copy, and assignment [hierarchy.bintree.cons]"><code class="literal">binary_tree</code>
        constructors, copy, and assignment <span class="std_section_label">[hierarchy.bintree.cons]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp5482992"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">explicit</span> <span class="identifier">binary_tree</span> <span class="special">(</span><span class="identifier">allocator_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">allocator_type</span><span class="special">());</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="identifier">binary_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">,</span>
    <span class="identifier">allocator_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">allocator_type</span><span class="special">());</span>
<span class="identifier">binary_tree</span> <span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp5504528"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> The constructor <code class="computeroutput"><span class="keyword">template</span>
          <span class="special">&lt;</span><span class="keyword">class</span>
          <span class="identifier">InputCursor</span><span class="special">&gt;</span>
          <span class="identifier">vector</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">)</span></code> makes only <code class="literal">N</code> calls
          to the copy constructor of <code class="literal">T</code> (where <code class="literal">N</code>
          is the number of elements in <code class="literal">subtree</code>) and no reallocations
          if the cursor <code class="literal">subtree</code> is of (either descending or ascending)
          forward, bidirectional, or random access categories. It does at most <code class="literal">2N</code>
          calls to the copy constructor of <code class="literal">T</code> and <code class="literal">logN</code>
          reallocations if they are just cursors, since it is impossible to determine
          the size of <code class="literal">subtree</code> and then do copying.
        </p></div><div class="simplesect std_definition" id="idp5517280"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp5524416"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Effects:</em></span>
        </p><pre class="programlisting"><span class="identifier">clear</span><span class="special">();</span>
<span class="keyword">for</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">i</span> <span class="special">=</span> <span class="identifier">subtree</span><span class="special">.</span><span class="identifier">begin</span><span class="special">();</span> <span class="identifier">i</span> <span class="special">!=</span> <span class="identifier">subtree</span><span class="special">.</span><span class="identifier">end</span><span class="special">();</span> <span class="special">++</span><span class="identifier">i</span><span class="special">)</span>
  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">root</span><span class="special">.</span><span class="identifier">end</span><span class="special">(),</span> <span class="special">*</span><span class="identifier">i</span><span class="special">);</span>
</pre></div></div><div class="section  tree_tree_bintree_cursors" id="tree.tree.bintree.cursors"><div class="titlepage"><div><div><h6 class="title">23.7.4.1.4. <a class="link" href="#tree.tree.bintree.cursors" title="23.7.4.1.4. binary_tree cursors [hierarchy.bintree.cursors]"><code class="literal">binary_tree</code>
        cursors <span class="std_section_label">[hierarchy.bintree.cursors]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp5543776"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>        <span class="identifier">shoot</span><span class="special">();</span>
<span class="identifier">const_cursor</span>  <span class="identifier">cshoot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp5549344"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> constant
        </p></div><div class="simplesect std_definition" id="idp5550592"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>        <span class="identifier">inorder_first</span><span class="special">();</span>
<span class="identifier">const_cursor</span>  <span class="identifier">inorder_cfirst</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp5556160"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Returns:</em></span> A cursor to the <code class="literal">binary_tree</code>'s
          first element in inorder (see [tr.order.iterators], §4).
        </p></div><div class="simplesect std_specification" id="idp5558256"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> constant.
        </p></div></div><div class="section  tree_tree_bintree_modifiers" id="tree.tree.bintree.modifiers"><div class="titlepage"><div><div><h6 class="title">23.7.4.1.5. <a class="link" href="#tree.tree.bintree.modifiers" title="23.7.4.1.5. binary_tree modifiers [hierarchy.bintree.modifiers]"><code class="literal">binary_tree</code>
        modifiers <span class="std_section_label">[hierarchy.bintree.modifiers]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp5561808"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span> <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
</pre></div><div class="simplesect std_specification" id="idp5570160"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Notes:</em></span> Does not affect the validity of cursors and
          references.
        </p></div><div class="simplesect std_specification" id="idp5571408"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Effect:</em></span> Let <code class="literal">b be =a</code>'s parent; if
          <code class="computeroutput"><span class="identifier">b</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span> <span class="special">&lt;</span> <span class="identifier">b</span><span class="special">.</span><span class="identifier">max_size</span><span class="special">()</span></code>, insert a copy of <code class="literal">t</code>
          before <code class="literal">p</code>, as child of <code class="literal">b</code>; Otherwise,
          if <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">empty</span><span class="special">()</span></code>,
          insert a copy of <code class="literal">t</code> as child of <code class="literal">a</code>;
          and if <code class="computeroutput"><span class="special">!</span><span class="identifier">a</span><span class="special">.</span><span class="identifier">empty</span><span class="special">()</span></code>, insert a copy of <code class="literal">t</code>
          as parent of <code class="literal">a</code>'s current child, as new child of <code class="literal">a</code>.
        </p></div><div class="simplesect std_specification" id="idp5588464"><div class="titlepage"></div><p>
          Complexity: constant
        </p></div><div class="simplesect std_definition" id="idp5589328"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="identifier">cursor</span> <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp5598160"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Notes:</em></span> Does not affect the validity of cursors and
          references.
        </p></div><div class="simplesect std_specification" id="idp5599488"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Effects:</em></span> as above, substituting <code class="literal">InputCursor
          subtree</code> to insert instead of <code class="computeroutput"><span class="identifier">value_type</span>
          <span class="keyword">const</span><span class="special">&amp;</span>
          <span class="identifier">x</span></code>.
        </p></div><div class="simplesect std_specification" id="idp5604000"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> linear in the number of elements in subtree.
        </p></div><div class="simplesect std_definition" id="idp5605312"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span> <span class="identifier">rotate</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp5609664"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Precondition:</em></span> position and its parent are internal
          and non-on-top
        </p></div><div class="simplesect std_specification" id="idp5610992"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Effects:</em></span> Performs a left tree rotation around the
          parent of position if <code class="computeroutput"><span class="identifier">position</span><span class="special">.</span><span class="identifier">parity</span><span class="special">()</span> <span class="special">==</span> <span class="number">0</span></code>
          or a right tree rotation if <code class="computeroutput"><span class="identifier">position</span><span class="special">.</span><span class="identifier">parity</span><span class="special">()</span> <span class="special">==</span> <span class="number">1</span></code>.
        </p></div><div class="simplesect std_specification" id="idp5619552"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Postcondition:</em></span> If <code class="computeroutput"><span class="identifier">par</span>
          <span class="special">==</span> <span class="identifier">position</span><span class="special">.</span><span class="identifier">parity</span><span class="special">()</span></code> as of before the rotation, then, after
          the rotation:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="computeroutput"><span class="special">*</span><span class="identifier">position</span><span class="special">.</span><span class="identifier">begin</span><span class="special">()</span></code> yields the same value it yielded
              before the rotation
            </p></li><li class="listitem"><p>
              <code class="computeroutput"><span class="identifier">position</span><span class="special">.</span><span class="identifier">parity</span><span class="special">()</span>
              <span class="special">==</span> <span class="special">!</span><span class="identifier">par</span></code>
            </p></li><li class="listitem"><p>
              <code class="computeroutput"><span class="special">*(((</span><span class="identifier">position</span><span class="special">.</span><span class="identifier">begin</span><span class="special">())[</span><span class="identifier">par</span><span class="special">]).</span><span class="identifier">begin</span><span class="special">())</span></code> yields what <code class="computeroutput"><span class="special">*(</span><span class="identifier">p</span><span class="special">.</span><span class="identifier">begin</span><span class="special">())</span></code>
              yielded before, if <code class="literal">p</code> was <code class="literal">position</code>'s
              parent
            </p></li><li class="listitem"><p>
              <code class="literal">position</code>'s parent's value is what <code class="literal">position</code>'s
              parent's parent's value yielded before. The ancestors of that cursor,
              and their structure, remain unchanged
            </p></li><li class="listitem"><p>
              <code class="computeroutput"><span class="special">(</span><span class="identifier">position</span><span class="special">.</span><span class="identifier">begin</span><span class="special">())[!</span><span class="identifier">par</span><span class="special">]</span></code>'s subtree is what <code class="computeroutput"><span class="special">(</span><span class="identifier">position</span><span class="special">.</span><span class="identifier">begin</span><span class="special">())[!</span><span class="identifier">par</span><span class="special">]</span></code>'s
              was before.
            </p></li><li class="listitem"><p>
              <code class="computeroutput"><span class="special">((</span><span class="identifier">position</span><span class="special">.</span><span class="identifier">begin</span><span class="special">()[!</span><span class="identifier">par</span><span class="special">]).</span><span class="identifier">begin</span><span class="special">())\[</span><span class="identifier">par</span><span class="special">]</span></code>'s subtree is what <code class="computeroutput"><span class="special">(</span><span class="identifier">p</span><span class="special">.</span><span class="identifier">begin</span><span class="special">())[!</span><span class="identifier">par</span><span class="special">]</span></code>'s
              was before, if <code class="literal">p</code> was <code class="literal">position</code>'s
              parent.
            </p></li><li class="listitem"><p>
              <code class="computeroutput"><span class="special">((</span><span class="identifier">position</span><span class="special">.</span><span class="identifier">begin</span><span class="special">()[!</span><span class="identifier">par</span><span class="special">]).</span><span class="identifier">begin</span><span class="special">())[</span><span class="identifier">par</span><span class="special">]</span></code>'s subtree is what <code class="computeroutput"><span class="special">(</span><span class="identifier">position</span><span class="special">.</span><span class="identifier">begin</span><span class="special">())[!</span><span class="identifier">par</span><span class="special">]</span></code>'s
              was before.
            </p></li></ul></div></div><div class="simplesect std_specification" id="idp5675696"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> constant
        </p></div><div class="simplesect std_specification" id="idp5676944"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Notes:</em></span> Does not affect the validity of cursors and
          references. Tree rotations are important inorder-preserving (see [tr.order.iterators]
          §4) operations on binary trees that are especially required by balancers.
        </p></div><div class="simplesect std_definition" id="idp5678832"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span> <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp5683056"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Notes:</em></span> Invalidates only the cursors and references
          to the erased elements.
        </p></div></div><div class="section  tree_tree_bintree_special" id="tree.tree.bintree.special"><div class="titlepage"><div><div><h6 class="title">23.7.4.1.6. <a class="link" href="#tree.tree.bintree.special" title="23.7.4.1.6. binary_tree specialized algorithms [hierarchy.bintree.special]"><code class="literal">binary_tree</code>
        specialized algorithms <span class="std_section_label">[hierarchy.bintree.special]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp5686704"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
              <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp5702416"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Effects:</em></span> <code class="computeroutput"><span class="identifier">x</span><span class="special">.</span><span class="identifier">swap</span><span class="special">(</span><span class="identifier">y</span><span class="special">)</span></code>;
        </p></div><div class="simplesect std_definition" id="idp5707024"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="simplesect std_specification" id="idp5726832"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;(</span><span class="identifier">h</span><span class="special">.</span><span class="identifier">inorder_first</span><span class="special">())</span></code>.
        </p></div><div class="simplesect std_specification" id="idp5736368"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> constant
        </p></div><div class="simplesect std_definition" id="idp5737616"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="simplesect std_specification" id="idp5758512"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;(</span><span class="identifier">h</span><span class="special">.</span><span class="identifier">inorder_cfirst</span><span class="special">())</span></code>.
        </p></div><div class="simplesect std_specification" id="idp5768048"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> constant
        </p></div></div></div><div class="section  tree_tree_narytree" id="tree.tree.narytree"><div class="titlepage"><div><div><h6 class="title">23.7.4.2. <a class="link" href="#tree.tree.narytree" title="23.7.4.2. Class template nary_tree [narytree]">Class template <code class="literal">nary_tree</code>
      <span class="std_section_label">[narytree]</span></a></h6></div></div></div><div class="section  tree_tree_narytree_synopsis" id="tree.tree.narytree.synopsis"><div class="titlepage"><div><div><h6 class="title">23.7.4.2.1. <a class="link" href="#tree.tree.narytree.synopsis" title="23.7.4.2.1. nary_tree overview [narytree.overview]"><code class="literal">nary_tree</code>
        overview <span class="std_section_label">[narytree.overview]</span></a></h6></div></div></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span> <span class="special">=</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">allocator</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span>
  <span class="keyword">class</span> <span class="identifier">nary_tree</span> <span class="special">{</span>
  <span class="keyword">public</span><span class="special">:</span>
    <span class="comment">// types:</span>
    <span class="keyword">typedef</span> <span class="identifier">T</span>                                             <span class="identifier">value_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">Alloc</span>                                         <span class="identifier">allocator_type</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">cursor</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">const_cursor</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">pointer</span>              <span class="identifier">pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">const_pointer</span>        <span class="identifier">const_pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">reference</span>            <span class="identifier">reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">const_reference</span>      <span class="identifier">const_reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">size_type</span>            <span class="identifier">size_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="identifier">difference_type</span>      <span class="identifier">difference_type</span><span class="special">;</span>

    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">U</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">rebind</span> <span class="special">{</span>
      <span class="keyword">typedef</span> <span class="identifier">nary_tree</span><span class="special">&lt;</span> <span class="identifier">U</span><span class="special">,</span> <span class="keyword">typename</span> <span class="identifier">allocator_type</span><span class="special">::</span><span class="keyword">template</span> <span class="identifier">rebind</span><span class="special">&lt;</span><span class="identifier">U</span><span class="special">&gt;::</span><span class="identifier">other</span> <span class="special">&gt;</span>
        <span class="identifier">other</span><span class="special">;</span>
    <span class="special">};</span>

    <span class="comment">// construct/copy/destroy:</span>
    <span class="keyword">explicit</span> <span class="identifier">nary_tree</span> <span class="special">(</span><span class="identifier">allocator_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">allocator_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">nary_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">,</span>
        <span class="identifier">allocator_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">allocator_type</span><span class="special">());</span>
    <span class="identifier">nary_tree</span> <span class="special">(</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="special">~</span><span class="identifier">nary_tree</span><span class="special">();</span>
    <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="keyword">operator</span><span class="special">=(</span>
      <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="identifier">allocator_type</span> <span class="identifier">get_allocator</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// cursors:</span>
    <span class="identifier">cursor</span>        <span class="identifier">root</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">croot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">cursor</span>        <span class="identifier">shoot</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">cshoot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">cursor</span>        <span class="identifier">inorder_first</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">inorder_cfirst</span> <span class="keyword">const</span><span class="special">();</span>

    <span class="comment">// capacity:</span>
    <span class="keyword">bool</span>      <span class="identifier">empty</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">max_size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">capacity</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">void</span>      <span class="identifier">reserve</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">);</span>

    <span class="comment">// modifiers:</span>
    <span class="identifier">cursor</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">cursor</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="identifier">cursor</span>    <span class="identifier">insert_above</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
    <span class="keyword">void</span>      <span class="identifier">swap</span><span class="special">(</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">();</span>
  <span class="special">};</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="comment">// specialized algorithms:</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>

<span class="special">}</span> <span class="comment">// namespace std</span>
</pre></div><div class="section  tree_tree_narytree_types" id="tree.tree.narytree.types"><div class="titlepage"><div><div><h6 class="title">23.7.4.2.2. <a class="link" href="#tree.tree.narytree.types" title="23.7.4.2.2. nary_tree types [narytree.types]"><code class="literal">nary_tree</code>
        types <span class="std_section_label">[narytree.types]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6028304"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">cursor</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">const_cursor</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp6033552"><div class="titlepage"></div><p>
          Both <code class="literal">cursor</code> and <code class="literal">const_cursor</code> have
          to fulfill the plain cursor ([cursor.flavors]) and ascending random access
          cursor ([ascending.random.access.cursors]) requirements.
        </p></div></div><div class="section  tree_tree_narytree_cons" id="tree.tree.narytree.cons"><div class="titlepage"><div><div><h6 class="title">23.7.4.2.3. <a class="link" href="#tree.tree.narytree.cons" title="23.7.4.2.3. nary_tree constructors, copy, and assignment [narytree.cons]"><code class="literal">nary_tree</code>
        constructors, copy, and assignment <span class="std_section_label">[narytree.cons]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6038112"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">explicit</span> <span class="identifier">nary_tree</span> <span class="special">(</span><span class="identifier">allocator_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">allocator_type</span><span class="special">());</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="identifier">nary_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">,</span>
    <span class="identifier">allocator_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">allocator_type</span><span class="special">());</span>
<span class="identifier">nary_tree</span> <span class="special">(</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp6059648"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> The constructor <code class="computeroutput"><span class="keyword">template</span>
          <span class="special">&lt;</span><span class="keyword">class</span>
          <span class="identifier">InputCursor</span><span class="special">&gt;</span>
          <span class="identifier">vector</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">)</span></code> makes only <code class="literal">N</code> calls
          to the copy constructor of <code class="literal">T</code> (where <code class="literal">N</code>
          is the number of elements in <code class="literal">subtree</code>) and no reallocations
          if the cursor <code class="literal">subtree</code> is of (either descending or ascending)
          forward, bidirectional, or random access categories. It does at most <code class="literal">2N</code>
          calls to the copy constructor of <code class="literal">T</code> and <code class="literal">logN</code>
          reallocations if they are just cursors, since it is impossible to determine
          the size of <code class="literal">subtree</code> and then do copying.
        </p></div><div class="simplesect std_definition" id="idp6072400"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp6079536"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Effects:</em></span>
        </p><pre class="programlisting"><span class="identifier">clear</span><span class="special">();</span>
<span class="keyword">for</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">i</span> <span class="special">=</span> <span class="identifier">subtree</span><span class="special">.</span><span class="identifier">begin</span><span class="special">();</span> <span class="identifier">i</span> <span class="special">!=</span> <span class="identifier">subtree</span><span class="special">.</span><span class="identifier">end</span><span class="special">();</span> <span class="special">++</span><span class="identifier">i</span><span class="special">)</span>
  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">root</span><span class="special">.</span><span class="identifier">end</span><span class="special">(),</span> <span class="special">*</span><span class="identifier">i</span><span class="special">);</span>
</pre></div></div><div class="section  tree_tree_narytree_cursors" id="tree.tree.narytree.cursors"><div class="titlepage"><div><div><h6 class="title">23.7.4.2.4. <a class="link" href="#tree.tree.narytree.cursors" title="23.7.4.2.4. nary_tree cursors [narytree.cursors]"><code class="literal">nary_tree</code>
        cursors <span class="std_section_label">[narytree.cursors]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6098896"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>        <span class="identifier">shoot</span><span class="special">();</span>
<span class="identifier">const_cursor</span>  <span class="identifier">cshoot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp6104464"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> constant
        </p></div><div class="simplesect std_definition" id="idp6105712"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>        <span class="identifier">inorder_first</span><span class="special">();</span>
<span class="identifier">const_cursor</span>  <span class="identifier">inorder_cfirst</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp6111280"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Returns:</em></span> A cursor to the nary_tree's first element
          in inorder (see [order.iterators], §4).
        </p></div><div class="simplesect std_specification" id="idp6112832"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> constant.
        </p></div></div><div class="section  tree_tree_narytree_capacity" id="tree.tree.narytree.capacity"><div class="titlepage"><div><div><h6 class="title">23.7.4.2.5. <a class="link" href="#tree.tree.narytree.capacity" title="23.7.4.2.5. nary_tree capacity [narytree.capacity]"><code class="literal">nary_tree</code>
        capacity <span class="std_section_label">[narytree.capacity]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6116288"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">size_type</span> <span class="identifier">capacity</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp6121728"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Returns:</em></span> The total number of child elements that the
          cursor <code class="literal">position</code> can hold without requiring reallocation.
        </p></div><div class="simplesect std_definition" id="idp6123712"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span> <span class="identifier">reserve</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp6129760"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Effects:</em></span> A directive that informs an <code class="literal">nary_tree</code>
          of a planned change in a given cursor's size, so that it can manage the
          storage allocation accordingly. After <code class="computeroutput"><span class="identifier">reserve</span><span class="special">(</span><span class="identifier">position</span><span class="special">,</span> <span class="identifier">n</span><span class="special">)</span></code>,
          <code class="computeroutput"><span class="identifier">capacity</span><span class="special">(</span><span class="identifier">position</span><span class="special">)</span></code>
          is greater or equal to the <code class="literal">size_type</code> argument <code class="literal">n</code>
          of reserve if reallocation happens; and equal to the previous value of
          <code class="computeroutput"><span class="identifier">capacity</span><span class="special">(</span><span class="identifier">position</span><span class="special">)</span></code>
          otherwise. Reallocation happens at this point if and only if the current
          capacity is less than the <code class="literal">size_type</code> argument <code class="literal">n</code>
          of <code class="computeroutput"><span class="identifier">reserve</span><span class="special">()</span></code>.
        </p></div><div class="simplesect std_specification" id="idp6144144"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> It does not change the size of the <code class="literal">nary_tree</code>
          and takes at most linear time in <code class="computeroutput"><span class="identifier">position</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span></code>.
        </p></div><div class="simplesect std_specification" id="idp6148400"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Notes:</em></span> Reallocation invalidates all the references,
          pointers, and cursors referring to the child elements of <code class="literal">position</code>.
          It is guaranteed that no reallocation takes place during insertions to
          <code class="literal">position</code> that happen after a call to <code class="computeroutput"><span class="identifier">reserve</span><span class="special">()</span></code> until the time when an insertion would
          make <code class="computeroutput"><span class="identifier">position</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span></code>
          greater than the size specified in the most recent call to <code class="computeroutput"><span class="identifier">reserve</span><span class="special">()</span></code>.
        </p></div></div><div class="section  tree_tree_narytree_modifiers" id="tree.tree.narytree.modifiers"><div class="titlepage"><div><div><h6 class="title">23.7.4.2.6. <a class="link" href="#tree.tree.narytree.modifiers" title="23.7.4.2.6. nary_tree modifiers [narytree.modifiers]"><code class="literal">nary_tree</code>
        modifiers <span class="std_section_label">[narytree.modifiers]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6158816"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="identifier">cursor</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
<span class="identifier">cursor</span>    <span class="identifier">insert_above</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
</pre></div><div class="simplesect std_specification" id="idp6182176"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Notes:</em></span> Does not affect the validity of cursors and
          references.
        </p></div><div class="simplesect std_definition" id="idp6183504"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp6187856"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Notes:</em></span> Invalidates only the cursors and references
          to the erased elements.
        </p></div></div><div class="section  tree_tree_narytree_special" id="tree.tree.narytree.special"><div class="titlepage"><div><div><h6 class="title">23.7.4.2.7. <a class="link" href="#tree.tree.narytree.special" title="23.7.4.2.7. nary_tree specialized algorithms [narytree.special]"><code class="literal">nary_tree</code>
        specialized algorithms <span class="std_section_label">[narytree.special]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6191504"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
              <span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp6223536"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Effects:</em></span> <code class="computeroutput"><span class="identifier">x</span><span class="special">.</span><span class="identifier">swap</span><span class="special">(</span><span class="identifier">y</span><span class="special">);</span></code>
        </p></div><div class="simplesect std_definition" id="idp6228144"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="simplesect std_specification" id="idp6247952"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;(</span><span class="identifier">h</span><span class="special">.</span><span class="identifier">inorder_first</span><span class="special">())</span></code>.
        </p></div><div class="simplesect std_specification" id="idp6257488"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Complexity:</em></span> constant
        </p></div><div class="simplesect std_definition" id="idp6258736"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="simplesect std_specification" id="idp6279632"><div class="titlepage"></div><p>
          <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">nary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;(</span><span class="identifier">h</span><span class="special">.</span><span class="identifier">inorder_cfirst</span><span class="special">())</span></code>.
        </p></div></div></div><div class="section  tree_tree_adaptors" id="tree.tree.adaptors"><div class="titlepage"><div><div><h6 class="title">23.7.4.3. <a class="link" href="#tree.tree.adaptors" title="23.7.4.3. Hierarchy adaptors [hierarchy.adaptors]">Hierarchy adaptors <span class="std_section_label">[hierarchy.adaptors]</span></a></h6></div></div></div><div class="section  tree_tree_adaptors_general" id="tree.tree.adaptors.general"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.1. <a class="link" href="#tree.tree.adaptors.general" title="23.7.4.3.1. In general [hiearchy.adaptors.general]">In general <span class="std_section_label">[hiearchy.adaptors.general]</span></a></h6></div></div></div><p>
          Hierarchy adaptors each take a Hierarchy template parameter, and each of
          their constructors takes a Hierarchy reference argument. This hierarchy
          is copied into the Hierarchy member of each adapter. Most hierarchy adaptors
          satisfy most of the hierarchy requirements (except for anything that deals
          with allocators, as storage management is done by the adaptees). The exception
          is the group of balancing hierarchy adaptors ([hierarchy.balance]), whose
          members satisfy most of the requirements of a container, of a sequence
          and most of the optional sequence requirements instead (again except for
          anything allocation related, and some other exceptions).
        </p></div><div class="section  tree_tree_adaptors_foresttree" id="tree.tree.adaptors.foresttree"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.2. <a class="link" href="#tree.tree.adaptors.foresttree" title="23.7.4.3.2. Template class forest_tree [foresttree]">Template class <code class="literal">forest_tree</code>
        <span class="std_section_label">[foresttree]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6296384"><div class="titlepage"></div><p>
          A <code class="literal">forest_tree</code> is a kind of mutable plain hierarchy that
          is instantiated with a mutable multiway hierarchy that has insertion semantics
          as a <code class="literal">binary_tree</code> ([bintree.modifiers], §1)), and whose
          cursor types <code class="literal">cursor</code> and <code class="literal">const_cursor</code>
          satisfy a <code class="literal">binary_tree</code>'s <code class="literal">cursor</code> and
          <code class="literal">const_cursor</code> type requirements ([bintree.types], §1-2)).
        </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span> <span class="special">=</span> <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span>
  <span class="keyword">class</span> <span class="identifier">forest_tree</span> <span class="special">{</span>
  <span class="keyword">public</span><span class="special">:</span>
    <span class="keyword">typedef</span> <span class="identifier">Hierarchy</span>                                     <span class="identifier">hierarchy_type</span><span class="special">;</span>

  <span class="keyword">protected</span><span class="special">:</span>
    <span class="identifier">hierarchy_type</span> <span class="identifier">h</span><span class="special">;</span>

  <span class="keyword">public</span><span class="special">:</span>
    <span class="comment">// types:</span>
    <span class="keyword">typedef</span> <span class="identifier">T</span>                                             <span class="identifier">value_type</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="identifier">implementation</span> <span class="identifier">defined</span>                        <span class="identifier">cursor</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">implementation</span> <span class="identifier">defined</span>                        <span class="identifier">const_cursor</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">pointer</span>              <span class="identifier">pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">const_pointer</span>        <span class="identifier">const_pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">reference</span>            <span class="identifier">reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">const_reference</span>      <span class="identifier">const_reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">size_type</span>            <span class="identifier">size_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">difference_type</span>      <span class="identifier">difference_type</span><span class="special">;</span>

    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">U</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">rebind</span> <span class="special">{</span>
      <span class="keyword">typedef</span> <span class="identifier">forest_tree</span><span class="special">&lt;</span> <span class="identifier">U</span><span class="special">,</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="keyword">template</span> <span class="identifier">rebind</span><span class="special">&lt;</span><span class="identifier">U</span><span class="special">&gt;::</span><span class="identifier">other</span> <span class="special">&gt;</span>
        <span class="identifier">other</span><span class="special">;</span>
    <span class="special">};</span>

    <span class="comment">// construct/copy/destroy:</span>
    <span class="keyword">explicit</span> <span class="identifier">forest_tree</span> <span class="special">(</span><span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">forest_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="identifier">forest_tree</span> <span class="special">(</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="keyword">operator</span><span class="special">=(</span>
      <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>

    <span class="comment">// cursors:</span>
    <span class="identifier">cursor</span>        <span class="identifier">root</span><span class="special">()</span>    <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">h</span><span class="special">.</span><span class="identifier">root</span><span class="special">();</span> <span class="special">}</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">croot</span><span class="special">()</span>   <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">h</span><span class="special">.</span><span class="identifier">croot</span><span class="special">();</span> <span class="special">}</span>
    <span class="identifier">cursor</span>        <span class="identifier">shoot</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">cshoot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// capacity:</span>
    <span class="keyword">bool</span>      <span class="identifier">empty</span><span class="special">()</span> <span class="keyword">const</span> <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">h</span><span class="special">.</span><span class="identifier">empty</span><span class="special">();</span> <span class="special">}</span>
    <span class="identifier">size_type</span> <span class="identifier">size</span><span class="special">()</span> <span class="keyword">const</span>  <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">h</span><span class="special">.</span><span class="identifier">size</span><span class="special">();</span> <span class="special">}</span>
    <span class="identifier">size_type</span> <span class="identifier">max_size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// modifiers:</span>
    <span class="identifier">cursor</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">cursor</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="identifier">cursor</span>    <span class="identifier">insert_above</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
    <span class="keyword">void</span>      <span class="identifier">swap</span><span class="special">(</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">();</span>
  <span class="special">};</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="comment">// specialized algorithms:</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>

<span class="special">}</span> <span class="comment">// namespace std</span>
</pre></div><div class="section  tree_tree_adaptors_foresttree_types" id="tree.tree.adaptors.foresttree.types"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.2.1. <a class="link" href="#tree.tree.adaptors.foresttree.types" title="23.7.4.3.2.1. forest_tree types [foresttree.types]"><code class="literal">forest_tree</code>
          types <span class="std_section_label">[foresttree.types]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6553136"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">cursor</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">const_cursor</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp6558384"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Notes:</em></span> If (the adaptee) <code class="literal">Hierarchy</code>'s
            cursor types are at least ascending bidirectional cursors, both <code class="literal">cursor</code>
            and <code class="literal">const_cursor</code> are ascending bidirectional cursors.
            Otherwise, they are descending forward cursors. The adaptee binary tree
            is "tilted" to yield an n-ary tree, meaning that the operational
            semantics of the adaptor cursor are as follows in terms of the adaptee
            cursor (only valid if present in the adaptor cursor's category; only
            given for mutable versions of expressions, const ones as according; expressions
            missing from the list mean operational semantics and complexity are for
            <code class="literal">b</code> as they are for <code class="literal">f</code>):
          </p><div class="table" id="tree.tree.adaptors.foresttree.types.table6"><div class="table-title">Table 6. forest_tree/binary tree cursor operational semantics correspondences</div><div class="table-contents"><table class="table" summary="forest_tree/binary tree cursor operational semantics correspondences"><colgroup><col><col><col></colgroup><thead><tr><th>
                    <p>
                      adaptor cursor <code class="literal">f</code>
                    </p>
                  </th><th>
                    <p>
                      adaptee cursor <code class="literal">b</code>
                    </p>
                  </th><th>
                    <p>
                      complexity
                    </p>
                  </th></tr></thead><tbody><tr><td>
                    <p>
                      <code class="computeroutput"><span class="identifier">f</span> <span class="special">=</span>
                      <span class="identifier">f</span><span class="special">.</span><span class="identifier">end</span><span class="special">()</span></code>
                    </p>
                  </td><td>
                    <p>
                      <code class="computeroutput"><span class="keyword">while</span> <span class="special">(!</span><span class="identifier">b</span><span class="special">.</span><span class="identifier">empty</span><span class="special">())</span>
                      <span class="identifier">b</span> <span class="special">=</span>
                      <span class="identifier">b</span><span class="special">.</span><span class="identifier">end</span><span class="special">();</span></code>
                    </p>
                  </td><td>
                    <p>
                      linear
                    </p>
                  </td></tr><tr><td>
                    <p>
                      <code class="computeroutput"><span class="special">++</span><span class="identifier">f</span></code>
                    </p>
                  </td><td>
                    <p>
                      <code class="computeroutput"><span class="identifier">b</span> <span class="special">=</span>
                      <span class="special">(++</span><span class="identifier">b</span><span class="special">).</span><span class="identifier">begin</span><span class="special">();</span></code>
                    </p>
                  </td><td>
                    <p>
                      constant
                    </p>
                  </td></tr><tr><td>
                    <p>
                      <code class="computeroutput"><span class="special">--</span><span class="identifier">f</span></code>
                    </p>
                  </td><td>
                    <p>
                      <code class="computeroutput"><span class="identifier">b</span> <span class="special">=</span>
                      <span class="special">--</span><span class="identifier">b</span><span class="special">.</span><span class="identifier">parent</span><span class="special">();</span></code>
                    </p>
                  </td><td>
                    <p>
                      as <code class="computeroutput"><span class="identifier">b</span><span class="special">.</span><span class="identifier">parent</span><span class="special">()</span></code>
                    </p>
                  </td></tr><tr><td>
                    <p>
                      <code class="computeroutput"><span class="special">!</span><span class="identifier">f</span></code>
                    </p>
                  </td><td>
                    <p>
                      <code class="computeroutput"><span class="keyword">while</span> <span class="special">((!</span><span class="identifier">b</span><span class="special">).</span><span class="identifier">parity</span><span class="special">()</span>
                      <span class="special">==</span> <span class="number">1</span><span class="special">);</span> <span class="identifier">b</span>
                      <span class="special">=</span> <span class="special">(!</span><span class="identifier">b</span><span class="special">).</span><span class="identifier">begin</span><span class="special">();</span></code>
                    </p>
                  </td><td>
                    <p>
                      linear
                    </p>
                  </td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="section  tree_tree_adaptors_foresttree_cons" id="tree.tree.adaptors.foresttree.cons"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.2.2. <a class="link" href="#tree.tree.adaptors.foresttree.cons" title="23.7.4.3.2.2. forest_tree constructors, copy, and assignment [foresttree.cons]"><code class="literal">forest_tree</code>
          constructors, copy, and assignment <span class="std_section_label">[foresttree.cons]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6617344"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">explicit</span> <span class="identifier">forest_tree</span> <span class="special">(</span><span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="identifier">forest_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
<span class="identifier">forest_tree</span> <span class="special">(</span><span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;);</span>
</pre></div><div class="simplesect std_specification" id="idp6634400"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> The constructor <code class="computeroutput"><span class="keyword">template</span>
            <span class="special">&lt;</span><span class="keyword">class</span>
            <span class="identifier">InputCursor</span><span class="special">&gt;</span>
            <span class="identifier">vector</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">)</span></code> makes only <code class="literal">N</code> calls
            to the copy constructor of <code class="literal">T</code> (where <code class="literal">N</code>
            is the number of elements in <code class="literal">subtree</code>) and no reallocations
            if the cursor <code class="literal">subtree</code> is of (either descending or
            ascending) forward, bidirectional, or random access categories. It does
            at most <code class="literal">2N</code> calls to the copy constructor of <code class="literal">T</code>
            and <code class="literal">logN</code> reallocations if they are just cursors, since
            it is impossible to determine the size of <code class="literal">subtree</code>
            and then do copying.
          </p></div><div class="simplesect std_definition" id="idp6647232"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp6654368"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Effects:</em></span>
          </p><pre class="programlisting"><span class="identifier">clear</span><span class="special">();</span>
<span class="keyword">for</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">i</span> <span class="special">=</span> <span class="identifier">subtree</span><span class="special">.</span><span class="identifier">begin</span><span class="special">();</span> <span class="identifier">i</span> <span class="special">!=</span> <span class="identifier">subtree</span><span class="special">.</span><span class="identifier">end</span><span class="special">();</span> <span class="special">++</span><span class="identifier">i</span><span class="special">)</span>
  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">root</span><span class="special">.</span><span class="identifier">end</span><span class="special">(),</span> <span class="special">*</span><span class="identifier">i</span><span class="special">);</span>
</pre></div></div><div class="section  tree_tree_adaptors_foresttree_cursors" id="tree.tree.adaptors.foresttree.cursors"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.2.3. <a class="link" href="#tree.tree.adaptors.foresttree.cursors" title="23.7.4.3.2.3. forest_tree cursors [foresttree.cursors]"><code class="literal">forest_tree</code>
          cursors <span class="std_section_label">[foresttree.cursors]</span></a></h6></div></div></div></div><div class="section  tree_tree_adaptors_foresttree_modifiers" id="tree.tree.adaptors.foresttree.modifiers"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.2.4. <a class="link" href="#tree.tree.adaptors.foresttree.modifiers" title="23.7.4.3.2.4. forest_tree modifiers [foresttree.modifiers]"><code class="literal">forest_tree</code>
          modifiers <span class="std_section_label">[foresttree.modifiers]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6676032"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="identifier">cursor</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
<span class="identifier">cursor</span>    <span class="identifier">insert_above</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
</pre></div><div class="simplesect std_specification" id="idp6699392"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Notes:</em></span> Does not affect the validity of cursors and
            references.
          </p></div><div class="simplesect std_definition" id="idp6700720"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp6705072"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Notes:</em></span> Invalidates only the cursors and references
            to the erased elements.
          </p></div></div><div class="section  tree_tree_adaptors_foresttree_special" id="tree.tree.adaptors.foresttree.special"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.2.5. <a class="link" href="#tree.tree.adaptors.foresttree.special" title="23.7.4.3.2.5. forest_tree specialized algorithms [foresttree.special]"><code class="literal">forest_tree</code>
          specialized algorithms <span class="std_section_label">[foresttree.special]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6708720"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
            <span class="identifier">forest_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp6724432"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Effects:</em></span> <code class="computeroutput"><span class="identifier">x</span><span class="special">.</span><span class="identifier">swap</span><span class="special">(</span><span class="identifier">y</span><span class="special">);</span></code>
          </p></div></div></div><div class="section  tree_tree_adaptors_multiwaytree" id="tree.tree.adaptors.multiwaytree"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.3. <a class="link" href="#tree.tree.adaptors.multiwaytree" title="23.7.4.3.3. Class template multiway_tree [multiwaytree]">Class template <code class="literal">multiway_tree</code>
        <span class="std_section_label">[multiwaytree]</span></a></h6></div></div></div><p>
          A <code class="literal">multiway_tree</code> is a kind of mutable multiway hierarchy
          that is instantiated with a mutable plain hierarchy whose value type in
          turn is a container holding elements of <code class="literal">multiway_tree</code>'s
          <code class="literal">value_type</code>.
        </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span> <span class="special">=</span> <span class="identifier">nary_tree</span><span class="special">&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span> <span class="special">&gt;</span>
  <span class="keyword">class</span> <span class="identifier">multiway_tree</span>
  <span class="special">{</span>
  <span class="keyword">public</span><span class="special">:</span>
    <span class="keyword">typedef</span> <span class="identifier">Hierarchy</span>                                     <span class="identifier">hierarchy_type</span><span class="special">;</span>

  <span class="keyword">protected</span><span class="special">:</span>
    <span class="identifier">hierarchy_type</span> <span class="identifier">h</span><span class="special">;</span>

  <span class="keyword">public</span><span class="special">:</span>
    <span class="comment">// types:</span>
    <span class="keyword">typedef</span> <span class="identifier">T</span>                                             <span class="identifier">value_type</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">cursor</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">const_cursor</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">pointer</span>              <span class="identifier">pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">const_pointer</span>        <span class="identifier">const_pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">reference</span>            <span class="identifier">reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">const_reference</span>      <span class="identifier">const_reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">size_type</span>            <span class="identifier">size_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">difference_type</span>      <span class="identifier">difference_type</span><span class="special">;</span>

    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">U</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">rebind</span> <span class="special">{</span>
      <span class="keyword">typedef</span> <span class="identifier">multiway_tree</span><span class="special">&lt;</span> <span class="identifier">U</span><span class="special">,</span>
        <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="keyword">template</span> <span class="identifier">rebind</span><span class="special">&lt;</span> <span class="identifier">implementation</span> <span class="identifier">defined</span> <span class="special">&gt;::</span><span class="identifier">other</span> <span class="special">&gt;</span>
          <span class="identifier">other</span><span class="special">;</span>
    <span class="special">};</span>

    <span class="comment">// construct/copy/destroy:</span>
    <span class="keyword">explicit</span> <span class="identifier">multiway_tree</span> <span class="special">(</span><span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">multiway_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="identifier">multiway_tree</span> <span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="special">~</span><span class="identifier">multiway_tree</span><span class="special">();</span>
    <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="keyword">operator</span><span class="special">=(</span>
      <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>

    <span class="comment">// cursors:</span>
    <span class="identifier">cursor</span>        <span class="identifier">root</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">croot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">cursor</span>        <span class="identifier">shoot</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">cshoot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">cursor</span>        <span class="identifier">inorder_first</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">inorder_cfirst</span> <span class="keyword">const</span><span class="special">();</span>

    <span class="comment">// capacity:</span>
    <span class="keyword">bool</span>      <span class="identifier">empty</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">max_size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">capacity</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">void</span>      <span class="identifier">reserve</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">);</span>

    <span class="comment">// modifiers:</span>
    <span class="identifier">cursor</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">cursor</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">rotate</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">swap</span><span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">p</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">();</span>
  <span class="special">};</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Tp</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="comment">// specialized algorithms:</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>

<span class="special">}</span> <span class="comment">// namespace std</span>
</pre><p>
          Types <code class="computeroutput"><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span></code>
          and <code class="computeroutput"><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span></code>
          are required to be random access cursors.
        </p><div class="section  tree_tree_adaptors_multiwaytree_types" id="tree.tree.adaptors.multiwaytree.types"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.3.1. <a class="link" href="#tree.tree.adaptors.multiwaytree.types" title="23.7.4.3.3.1. multiway_tree types [multiwaytree.types]"><code class="literal">multiway_tree</code>
          types <span class="std_section_label">[multiwaytree.types]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp6989888"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">implementation</span> <span class="identifier">defined</span>                        <span class="identifier">cursor</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">implementation</span> <span class="identifier">defined</span>                        <span class="identifier">const_cursor</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp6996800"><div class="titlepage"></div><p>
            Both <code class="literal">cursor</code> and <code class="literal">const_cursor</code> have
            to fulfill the plain cursor requirements ([cursor.flavors]). If <code class="computeroutput"><span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">cursor</span></code>
            is an ascending random access cursor, <code class="literal">cursor</code> and
            <code class="literal">const_cursor</code> are also ascending random access cursors
            ([ascending.random.access.cursors]); otherwise, they are descending random
            access cursor ([descending.random.access.cursors]).
          </p></div><div class="simplesect std_specification" id="idp7002992"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Notes:</em></span> The operational semantics of the adaptor
            cursor are as follows in terms of the adaptee cursor (only valid if present
            in the adaptor cursor's category; only given for mutable versions of
            expressions, const ones as according; expressions missing from the list
            mean operational semantics and complexity are for <code class="literal">m</code>
            as they are for <code class="literal">n</code>):
          </p><div class="table" id="tree.tree.adaptors.multiwaytree.types.table7"><div class="table-title">Table 7. Multiway/nary tree cursor operational semantics correspondences</div><div class="table-contents"><table class="table" summary="Multiway/nary tree cursor operational semantics correspondences"><colgroup><col><col><col></colgroup><thead><tr><th>
                    <p>
                      adaptor cursor <code class="literal">m</code>
                    </p>
                  </th><th>
                    <p>
                      adaptee cursor <code class="literal">n</code>
                    </p>
                  </th><th>
                    <p>
                      complexity
                    </p>
                  </th></tr></thead><tbody><tr><td>
                    <p>
                      <code class="computeroutput"><span class="special">*</span><span class="identifier">m</span></code>
                    </p>
                  </td><td>
                    <p>
                      <code class="computeroutput"><span class="special">*((</span><span class="identifier">p</span><span class="special">-&gt;</span><span class="identifier">begin</span><span class="special">())[</span><span class="identifier">b</span><span class="special">.</span><span class="identifier">parity</span><span class="special">()])</span></code>
                    </p>
                  </td><td>
                    <p>
                      constant
                    </p>
                  </td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="section  tree_tree_adaptors_multiwaytree_cons" id="tree.tree.adaptors.multiwaytree.cons"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.3.2. <a class="link" href="#tree.tree.adaptors.multiwaytree.cons" title="23.7.4.3.3.2. multiway_tree constructors, copy, and assignment [multiwaytree.cons]"><code class="literal">multiway_tree</code>
          constructors, copy, and assignment <span class="std_section_label">[multiwaytree.cons]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp7024096"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">explicit</span> <span class="identifier">multiway_tree</span> <span class="special">(</span><span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="identifier">multiway_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
<span class="identifier">multiway_tree</span> <span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp7042240"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> The constructor <code class="computeroutput"><span class="keyword">template</span>
            <span class="special">&lt;</span><span class="keyword">class</span>
            <span class="identifier">InputCursor</span><span class="special">&gt;</span>
            <span class="identifier">vector</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">)</span></code> makes only <code class="literal">N</code> calls
            to the copy constructor of <code class="literal">T</code> (where <code class="literal">N</code>
            is the number of elements in <code class="literal">subtree</code>) and no reallocations
            if the cursor <code class="literal">subtree</code> is of (either descending or
            ascending) forward, bidirectional, or random access categories. It does
            at most <code class="literal">2N</code> calls to the copy constructor of <code class="literal">T</code>
            and <code class="literal">logN</code> reallocations if they are just cursors, since
            it is impossible to determine the size of <code class="literal">subtree</code>
            and then do copying.
          </p></div><div class="simplesect std_definition" id="idp7055072"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp7062208"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Effects:</em></span>
          </p><pre class="programlisting"><span class="identifier">clear</span><span class="special">();</span>
<span class="keyword">for</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">i</span> <span class="special">=</span> <span class="identifier">subtree</span><span class="special">.</span><span class="identifier">begin</span><span class="special">();</span> <span class="identifier">i</span> <span class="special">!=</span> <span class="identifier">subtree</span><span class="special">.</span><span class="identifier">end</span><span class="special">();</span> <span class="special">++</span><span class="identifier">i</span><span class="special">)</span>
  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">root</span><span class="special">.</span><span class="identifier">end</span><span class="special">(),</span> <span class="special">*</span><span class="identifier">i</span><span class="special">);</span>
</pre></div></div><div class="section  tree_tree_adaptors_multiwaytree_cursors" id="tree.tree.adaptors.multiwaytree.cursors"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.3.3. <a class="link" href="#tree.tree.adaptors.multiwaytree.cursors" title="23.7.4.3.3.3. multiway_tree cursors [multiwaytree.cursors]"><code class="literal">multiway_tree</code>
          cursors <span class="std_section_label">[multiwaytree.cursors]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp7081568"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>        <span class="identifier">shoot</span><span class="special">();</span>
<span class="identifier">const_cursor</span>  <span class="identifier">cshoot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp7087136"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> constant
          </p></div><div class="simplesect std_definition" id="idp7088384"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>        <span class="identifier">inorder_first</span><span class="special">();</span>
<span class="identifier">const_cursor</span>  <span class="identifier">inorder_cfirst</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp7093952"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Returns:</em></span> A cursor to the <code class="literal">multiway_tree</code>'s
            first element in inorder (see [order.iterators], §4).
          </p></div><div class="simplesect std_specification" id="idp7096064"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> constant.
          </p></div></div><div class="section  tree_tree_adaptors_multiwaytree_capacity" id="tree.tree.adaptors.multiwaytree.capacity"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.3.4. <a class="link" href="#tree.tree.adaptors.multiwaytree.capacity" title="23.7.4.3.3.4. multiway_tree capacity [multiwaytree.capacity]"><code class="literal">multiway_tree</code>
          capacity <span class="std_section_label">[multiwaytree.capacity]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp7099616"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">size_type</span> <span class="identifier">capacity</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp7105056"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Returns:</em></span> The total number of child elements that
            the cursor <code class="literal">position</code> can hold without requiring reallocation.
          </p></div><div class="simplesect std_definition" id="idp7106976"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span> <span class="identifier">reserve</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp7113024"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Effects:</em></span> A directive that informs an <code class="literal">multiway_tree</code>
            of a planned change in a given cursor's size, so that it can manage the
            storage allocation accordingly. After <code class="computeroutput"><span class="identifier">reserve</span><span class="special">(</span><span class="identifier">position</span><span class="special">,</span> <span class="identifier">n</span><span class="special">)</span></code>, <code class="computeroutput"><span class="identifier">capacity</span><span class="special">(</span><span class="identifier">position</span><span class="special">)</span></code> is greater or equal to the <code class="literal">size_type</code>
            argument <code class="literal">n</code> of reserve if reallocation happens; and
            equal to the previous value of <code class="computeroutput"><span class="identifier">capacity</span><span class="special">(</span><span class="identifier">position</span><span class="special">)</span></code> otherwise. Reallocation happens at this
            point if and only if the current capacity is less than the <code class="literal">size_type</code>
            argument <code class="literal">n</code> of <code class="computeroutput"><span class="identifier">reserve</span><span class="special">()</span></code>.
          </p></div><div class="simplesect std_specification" id="idp7128256"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> It does not change the size of the
            <code class="literal">multiway_tree</code> and takes at most linear time in <code class="computeroutput"><span class="identifier">position</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span></code>.
          </p></div><div class="simplesect std_specification" id="idp7132928"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Notes:</em></span> Reallocation invalidates all the references,
            pointers, and cursors referring to the child elements of <code class="literal">position</code>.
            It is guaranteed that no reallocation takes place during insertions to
            <code class="literal">position</code> that happen after a call to <code class="computeroutput"><span class="identifier">reserve</span><span class="special">()</span></code>
            until the time when an insertion would make <code class="computeroutput"><span class="identifier">position</span><span class="special">.</span><span class="identifier">size</span><span class="special">()</span></code> greater than the size specified in
            the most recent call to <code class="computeroutput"><span class="identifier">reserve</span><span class="special">()</span></code>.
          </p></div></div><div class="section  tree_tree_adaptors_multiwaytree_modifiers" id="tree.tree.adaptors.multiwaytree.modifiers"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.3.5. <a class="link" href="#tree.tree.adaptors.multiwaytree.modifiers" title="23.7.4.3.3.5. multiway_tree modifiers [multiwaytree.modifiers]"><code class="literal">multiway_tree</code>
          modifiers <span class="std_section_label">[multiwaytree.modifiers]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp7144640"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
  <span class="identifier">cursor</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
<span class="identifier">cursor</span>    <span class="identifier">insert_above</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
</pre></div><div class="simplesect std_specification" id="idp7169184"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Notes:</em></span> Does not affect the validity of cursors and
            references.
          </p></div><div class="simplesect std_definition" id="idp7170560"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp7175200"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Notes:</em></span> Invalidates only the cursors and references
            to the erased elements.
          </p></div></div><div class="section  tree_tree_adaptors_multiwaytree_special" id="tree.tree.adaptors.multiwaytree.special"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.3.6. <a class="link" href="#tree.tree.adaptors.multiwaytree.special" title="23.7.4.3.3.6. multiway_tree specialized algorithms [multiwaytree.special]"><code class="literal">multiway_tree</code>
          specialized algorithms <span class="std_section_label">[multiwaytree.special]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp7179456"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
              <span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp7195984"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Effects:</em></span> <code class="computeroutput"><span class="identifier">x</span><span class="special">.</span><span class="identifier">swap</span><span class="special">(</span><span class="identifier">y</span><span class="special">);</span></code>
          </p></div><div class="simplesect std_definition" id="idp7200864"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="simplesect std_specification" id="idp7221744"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;(</span><span class="identifier">h</span><span class="special">.</span><span class="identifier">inorder_first</span><span class="special">())</span></code>.
          </p></div><div class="simplesect std_specification" id="idp7231872"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> constant
          </p></div><div class="simplesect std_definition" id="idp7233200"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Tp</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Alloc</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="simplesect std_specification" id="idp7271488"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">multiway_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Alloc</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;(</span><span class="identifier">h</span><span class="special">.</span><span class="identifier">inorder_cfirst</span><span class="special">())</span></code>.
          </p></div><div class="simplesect std_specification" id="idp7281616"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> constant
          </p></div></div></div><div class="section  tree_tree_adaptors_augment" id="tree.tree.adaptors.augment"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.4. <a class="link" href="#tree.tree.adaptors.augment" title="23.7.4.3.4. Augmenting hierarchy adaptors [hierarchy.augment]">Augmenting hierarchy adaptors
        <span class="std_section_label">[hierarchy.augment]</span></a></h6></div></div></div><p>
          An augmenting hierarchy "augments" a mutable multiway hierarchy
          which it is given as a template parameter by associating additional information
          with its elements and modeling a mutable multiway hierarchy in turn. This
          additional information is not directly exposed, but only readable via certain
          member functions of the augmentor; it is updated internally in order to
          adapt to structural or content-wise changes in the hierarchy. The library
          provides one augmenting hierarchy adaptor template class: <code class="literal">rank_tree</code>,
          found in header <code class="literal">&lt;augment&gt;</code>.
        </p><div class="section  tree_tree_adaptors_augment_ranktree" id="tree.tree.adaptors.augment.ranktree"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.4.1. <a class="link" href="#tree.tree.adaptors.augment.ranktree" title="23.7.4.3.4.1. Class template rank_tree [ranktree]">Class template
          <code class="literal">rank_tree</code> <span class="std_section_label">[ranktree]</span></a></h6></div></div></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span> <span class="special">=</span> <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span>
  <span class="keyword">class</span> <span class="identifier">rank_tree</span>
  <span class="special">{</span>
  <span class="keyword">public</span><span class="special">:</span>
    <span class="keyword">typedef</span> <span class="identifier">Hierarchy</span>                                     <span class="identifier">hierarchy_type</span><span class="special">;</span>

  <span class="keyword">protected</span><span class="special">:</span>
    <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="keyword">template</span> <span class="identifier">rebind</span><span class="special">&lt;</span> <span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span><span class="identifier">size_t</span><span class="special">&gt;</span> <span class="special">&gt;::</span><span class="identifier">other</span> <span class="identifier">h</span><span class="special">;</span>

  <span class="keyword">public</span><span class="special">:</span>
    <span class="comment">// types:</span>
    <span class="keyword">typedef</span> <span class="identifier">T</span>                                             <span class="identifier">value_type</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="identifier">implementation</span> <span class="identifier">defined</span>                        <span class="identifier">cursor</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">implementation</span> <span class="identifier">defined</span>                        <span class="identifier">const_cursor</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">pointer</span>              <span class="identifier">pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">const_pointer</span>        <span class="identifier">const_pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">reference</span>            <span class="identifier">reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">const_reference</span>      <span class="identifier">const_reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">size_type</span>            <span class="identifier">size_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">difference_type</span>      <span class="identifier">difference_type</span><span class="special">;</span>

    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">U</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">rebind</span> <span class="special">{</span>
      <span class="keyword">typedef</span> <span class="identifier">rank_tree</span><span class="special">&lt;</span> <span class="identifier">U</span><span class="special">,</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="keyword">template</span> <span class="identifier">rebind</span><span class="special">&lt;</span><span class="identifier">U</span><span class="special">&gt;::</span><span class="identifier">other</span> <span class="special">&gt;</span>
        <span class="identifier">other</span><span class="special">;</span>
    <span class="special">};</span>

    <span class="comment">// construct/copy/destroy:</span>
    <span class="keyword">explicit</span> <span class="identifier">rank_tree</span> <span class="special">(</span><span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">rank_tree</span> <span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="identifier">rank_tree</span> <span class="special">(</span><span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="special">~</span><span class="identifier">rank_tree</span><span class="special">();</span>
    <span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="keyword">operator</span><span class="special">=(</span>
      <span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>

    <span class="comment">// cursors:</span>
    <span class="identifier">cursor</span>        <span class="identifier">root</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">croot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">cursor</span>        <span class="identifier">shoot</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">cshoot</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">cursor</span>        <span class="identifier">inorder_first</span><span class="special">();</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">inorder_cfirst</span> <span class="keyword">const</span><span class="special">();</span>

    <span class="identifier">cursor</span>        <span class="identifier">rank</span><span class="special">(</span><span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">);</span>
    <span class="identifier">const_cursor</span>  <span class="identifier">rank</span><span class="special">(</span><span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// capacity:</span>
    <span class="keyword">bool</span>      <span class="identifier">empty</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">max_size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">size_type</span> <span class="identifier">capacity</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">void</span>      <span class="identifier">reserve</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">);</span>

    <span class="comment">// modifiers:</span>
    <span class="identifier">cursor</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputCursor</span><span class="special">&gt;</span>
      <span class="identifier">cursor</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputCursor</span> <span class="identifier">subtree</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">rotate</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">swap</span><span class="special">(</span><span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">(</span><span class="identifier">cursor</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">();</span>
  <span class="special">};</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hier</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="comment">// specialized algorithms:</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                <span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Tp</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">inorder</span><span class="special">::</span><span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">rank_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="special">}</span> <span class="comment">// namespace inorder</span>

<span class="special">}</span> <span class="comment">// namespace std</span>
</pre><p>
            Each function listed in the public interface of <code class="literal">rank_tree</code>
            as above calls a function of the same name for its adaptee object <code class="literal">h</code>,
            plus possibly other operations with guaranteed logarithmic time complexity
            in total. This means that operational semantics and time complexities
            are as specified by the <code class="literal">hierarchy_type</code>; and that a
            function can only be called if a function of the same name is present
            in the public interface of <code class="literal">hierarchy_type</code>. (The only
            exception to the above stated are the functions <code class="literal">rank()</code>,
            which are newly introduced.)
          </p><div class="simplesect std_definition" id="idp7568256"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">cursor</span>        <span class="identifier">rank</span><span class="special">(</span><span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">);</span>
<span class="identifier">const_cursor</span>  <span class="identifier">rank</span><span class="special">(</span><span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp7577424"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Returns:</em></span> A cursor (or <code class="literal">const_cursor</code>)
            to the <code class="literal">n=th element of the hierarchy in inorder, counting from
            =inorder_first()</code>.
          </p></div><div class="simplesect std_specification" id="idp7580144"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> logarithmic in <code class="literal">size()</code>.
          </p></div></div></div><div class="section  tree_tree_adaptors_balance" id="tree.tree.adaptors.balance"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.5. <a class="link" href="#tree.tree.adaptors.balance" title="23.7.4.3.5. Balancing hierarchy adaptors [hierarchy.balance]">Balancing hierarchy adaptors
        <span class="std_section_label">[hierarchy.balance]</span></a></h6></div></div></div><div class="note"><h3 class="title">Note</h3><p>
            These do not model AssociativeContainer yet but Sequence as they permit
            insertion in arbitrary positions. (This way, they are not required to
            take care of extracting, sorting and searching.)
          </p></div><p>
          A balancing hierarchy adaptor uses some kind of balancing method in order
          to guarantee logarithmic time complexity for many important operations
          while keeping the inorder of the adaptee hierarchy as its invariant.
        </p><p>
          A balancing hierarchy adaptor satisfies all of the requirements of a container
          ([lib.container.requirements]), of a sequence ([lib.sequence.reqmts]),
          with the exception that its <code class="literal">erase()</code> member functions
          return <code class="literal">void</code>, and most of the optional sequence requirements,
          except for the =operator[]= and <code class="literal">at</code> member functions,
          which are not provided. If the adaptee hierarchy supports at least descending
          bidirectional cursors, it also satisfies the requirements of a reversible
          container. Descriptions are provided here only for operations on balancing
          hierarchy adaptors that are not described in one of these tables or for
          operations where there is additional semantic information.
        </p><p>
          The library provides four balancing hierarchy adaptor template classes
          which take a mutable multiway template parameter that provides a <code class="literal">rotate()</code>
          operation and whose <code class="literal">cursor</code> and <code class="literal">const_cursor</code>
          types satisfy the requirements of a binary tree cursor ([bintree.types],
          §1 and §2): <code class="literal">avl_tree</code>, <code class="literal">red_black_tree</code>,
          <code class="literal">splay_tree</code>, and <code class="literal">treap</code>. Furthermore,
          two balancing hierarchy adaptor template classes that take a mutable multiway
          tree template parameter are provided: <code class="literal">b_tree</code> and <code class="literal">b_star_tree</code>.
          All balancing adaptors and corresponding free functions are found in header
          <code class="literal">&lt;balance&gt;</code>.
        </p><p>
          In the following, only the template class <code class="literal">avl_tree</code> and
          related operators are shown. Note that also <code class="literal">red_black_tree</code>,
          <code class="literal">splay_tree</code>, and <code class="literal">treap</code> must be present
          and have identical interfaces (with all occurrences of <code class="literal">avl_tree</code>
          replaced accordingly). The same holds true for <code class="literal">b_tree</code>
          and <code class="literal">b_star_tree</code>, as well, except that the standard value
          for the template parameter reads <code class="literal">multiway_tree&lt;T&gt;</code>
          (instead of <code class="literal">binary_tree&lt;T&gt;</code>) in their case.
        </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span> <span class="special">=</span> <span class="identifier">binary_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">&gt;</span> <span class="special">&gt;</span>
  <span class="keyword">class</span> <span class="identifier">avl_tree</span> <span class="special">{</span>
  <span class="keyword">public</span><span class="special">:</span>
    <span class="keyword">typedef</span> <span class="identifier">Hierarchy</span>                                     <span class="identifier">hierarchy_type</span><span class="special">;</span>

  <span class="keyword">protected</span><span class="special">:</span>
    <span class="identifier">hierarchy_type</span> <span class="identifier">h</span><span class="special">;</span>

  <span class="keyword">public</span><span class="special">:</span>
    <span class="comment">// types:</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">value_type</span>           <span class="identifier">value_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">pointer</span>              <span class="identifier">pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">const_pointer</span>        <span class="identifier">const_pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">reference</span>            <span class="identifier">reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">const_reference</span>      <span class="identifier">const_reference</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">size_type</span>            <span class="identifier">size_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">hierarchy_type</span><span class="special">::</span><span class="identifier">difference_type</span>      <span class="identifier">difference_type</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">iterator</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="emphasis"><em>implementation-defined</em></span>                        <span class="identifier">const_iterator</span><span class="special">;</span>

    <span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">reverse_iterator</span><span class="special">&lt;</span><span class="identifier">iterator</span><span class="special">&gt;</span>               <span class="identifier">reverse_iterator</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">reverse_iterator</span><span class="special">&lt;</span><span class="identifier">const_iterator</span><span class="special">&gt;</span>         <span class="identifier">const_reverse_iterator</span><span class="special">;</span>

    <span class="comment">// construct/copy/destroy:</span>
    <span class="keyword">explicit</span> <span class="identifier">avl_tree</span><span class="special">(</span><span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
    <span class="keyword">explicit</span> <span class="identifier">avl_tree</span><span class="special">(</span><span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">value</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">(),</span>
      <span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputIterator</span><span class="special">&gt;</span>
      <span class="identifier">avl_tree</span> <span class="special">(</span><span class="identifier">InputIterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">InputIterator</span> <span class="identifier">last</span><span class="special">,</span>
        <span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
    <span class="identifier">avl_tree</span> <span class="special">(</span><span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="special">~</span><span class="identifier">avl_tree</span><span class="special">();</span>
    <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="keyword">operator</span><span class="special">=(</span>
      <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputIterator</span><span class="special">&gt;</span>
      <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputIterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">InputIterator</span> <span class="identifier">last</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Size</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">T</span><span class="special">&gt;</span>
      <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">Size</span> <span class="identifier">n</span><span class="special">,</span> <span class="identifier">T</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">t</span> <span class="special">=</span> <span class="identifier">T</span><span class="special">());</span>

    <span class="comment">// iterators:</span>
    <span class="identifier">iterator</span>                <span class="identifier">begin</span><span class="special">();</span>
    <span class="identifier">const_iterator</span>          <span class="identifier">cbegin</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">iterator</span>                <span class="identifier">end</span><span class="special">()</span>             <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">iterator</span><span class="special">(</span><span class="identifier">h</span><span class="special">.</span><span class="identifier">shoot</span><span class="special">());</span> <span class="special">}</span>
    <span class="identifier">const_iterator</span>          <span class="identifier">cend</span><span class="special">()</span> <span class="keyword">const</span>      <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">const_iterator</span><span class="special">(</span><span class="identifier">h</span><span class="special">.</span><span class="identifier">cshoot</span><span class="special">());</span> <span class="special">}</span>
    <span class="identifier">reverse_iterator</span>        <span class="identifier">rbegin</span><span class="special">();</span>
    <span class="identifier">const_reverse_iterator</span>  <span class="identifier">crbegin</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">reverse_iterator</span>        <span class="identifier">rend</span><span class="special">();</span>
    <span class="identifier">const_reverse_iterator</span>  <span class="identifier">crend</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// capacity:</span>
    <span class="keyword">bool</span>      <span class="identifier">empty</span><span class="special">()</span> <span class="keyword">const</span> <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">h</span><span class="special">.</span><span class="identifier">empty</span><span class="special">();</span> <span class="special">}</span>
    <span class="identifier">size_type</span> <span class="identifier">size</span><span class="special">()</span> <span class="keyword">const</span>  <span class="special">{</span> <span class="keyword">return</span> <span class="identifier">h</span><span class="special">.</span><span class="identifier">size</span><span class="special">();</span> <span class="special">}</span>
    <span class="identifier">size_type</span> <span class="identifier">max_size</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">void</span>      <span class="identifier">resize</span><span class="special">(</span><span class="identifier">size_type</span> <span class="identifier">sz</span><span class="special">,</span> <span class="identifier">T</span> <span class="identifier">c</span> <span class="special">=</span> <span class="identifier">T</span><span class="special">());</span>

    <span class="comment">// element access:</span>
    <span class="identifier">reference</span>       <span class="identifier">front</span><span class="special">();</span>
    <span class="identifier">const_reference</span> <span class="identifier">front</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">reference</span>       <span class="identifier">back</span><span class="special">();</span>
    <span class="identifier">const_reference</span> <span class="identifier">back</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// map operations:</span>
    <span class="identifier">iterator</span> <span class="identifier">find</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
      <span class="identifier">const_iterator</span> <span class="identifier">find</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
      <span class="identifier">iterator</span> <span class="identifier">find</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">);</span>
        <span class="identifier">const_iterator</span> <span class="identifier">find</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="identifier">size_type</span> <span class="identifier">count</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
      <span class="identifier">size_type</span> <span class="identifier">count</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="identifier">iterator</span> <span class="identifier">lower_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="identifier">const_iterator</span> <span class="identifier">lower_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
      <span class="identifier">iterator</span> <span class="identifier">lower_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
      <span class="identifier">const_iterator</span> <span class="identifier">lower_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="identifier">iterator</span> <span class="identifier">upper_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="identifier">const_iterator</span> <span class="identifier">upper_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
      <span class="identifier">iterator</span> <span class="identifier">upper_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
      <span class="identifier">const_iterator</span> <span class="identifier">upper_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">iterator</span><span class="special">,</span><span class="identifier">iterator</span><span class="special">&gt;</span> <span class="identifier">equal_range</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">const_iterator</span><span class="special">,</span><span class="identifier">const_iterator</span><span class="special">&gt;</span>
      <span class="identifier">equal_range</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
      <span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">iterator</span><span class="special">,</span><span class="identifier">iterator</span><span class="special">&gt;</span>
        <span class="identifier">equal_range</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
      <span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">const_iterator</span><span class="special">,</span><span class="identifier">const_iterator</span><span class="special">&gt;</span>
        <span class="identifier">equal_range</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="comment">// modifiers:</span>
    <span class="keyword">void</span>      <span class="identifier">push_front</span><span class="special">(</span><span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">push_back</span><span class="special">(</span><span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="identifier">iterator</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
    <span class="keyword">void</span>      <span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
    <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputIterator</span><span class="special">&gt;</span>
      <span class="keyword">void</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputIterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">InputIterator</span> <span class="identifier">last</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">pop_front</span><span class="special">();</span>
    <span class="keyword">void</span>      <span class="identifier">pop_back</span><span class="special">();</span>
    <span class="keyword">void</span>      <span class="identifier">erase</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">position</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">erase</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">iterator</span> <span class="identifier">last</span><span class="special">);</span>
    <span class="keyword">void</span>      <span class="identifier">swap</span><span class="special">(</span><span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">Tp</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;);</span>
    <span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">()</span> <span class="special">{</span> <span class="identifier">h</span><span class="special">.</span><span class="identifier">clear</span><span class="special">();</span> <span class="special">}</span>
  <span class="special">};</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>  <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">&lt;</span> <span class="special">(</span>  <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>  <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">&gt;</span> <span class="special">(</span>  <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">&gt;=(</span>  <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">&lt;=(</span>  <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                      <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="comment">// specialized algorithms:</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
                <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

<span class="special">}</span> <span class="comment">// namespace std</span>
</pre><div class="section  tree_tree_adaptors_balance_cons" id="tree.tree.adaptors.balance.cons"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.5.1. <a class="link" href="#tree.tree.adaptors.balance.cons" title="23.7.4.3.5.1. Balancing adaptor constructors, copy, and assigment [balance.cons]">Balancing adaptor
          constructors, copy, and assigment <span class="std_section_label">[balance.cons]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp8122000"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">explicit</span> <span class="identifier">avl_tree</span> <span class="special">(</span><span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputIterator</span><span class="special">&gt;</span>
  <span class="identifier">avl_tree</span> <span class="special">(</span><span class="identifier">InputIterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">InputIterator</span> <span class="identifier">last</span><span class="special">,</span>
    <span class="identifier">hierarchy_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">hierarchy_type</span><span class="special">());</span>
<span class="identifier">avl_tree</span> <span class="special">(</span><span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp8146464"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Effects:</em></span> constructs a balanced tree equal to the
            range [<code class="literal">first</code>, <code class="literal">last</code>).
          </p></div><div class="simplesect std_specification" id="idp8149120"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> Linear.
          </p></div><div class="simplesect std_definition" id="idp8150448"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputIterator</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">assign</span><span class="special">(</span><span class="identifier">InputIterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">InputIterator</span> <span class="identifier">last</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp8159808"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Effects:</em></span>
          </p><pre class="programlisting"><span class="identifier">clear</span><span class="special">();</span>
<span class="keyword">while</span><span class="special">(</span><span class="identifier">first</span><span class="special">++</span> <span class="special">!=</span> <span class="identifier">last</span><span class="special">)</span>
  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">end</span><span class="special">(),</span> <span class="special">*</span><span class="identifier">first</span><span class="special">);</span>
</pre></div></div><div class="section  tree_tree_adaptors_balance_map" id="tree.tree.adaptors.balance.map"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.5.2. <a class="link" href="#tree.tree.adaptors.balance.map" title="23.7.4.3.5.2. Balancing adaptor map operations [balance.map]">Balancing adaptor
          map operations <span class="std_section_label">[balance.map]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp8172736"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">iterator</span> <span class="identifier">find</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
<span class="identifier">const_iterator</span> <span class="identifier">find</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
  <span class="identifier">iterator</span> <span class="identifier">find</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">);</span>
<span class="identifier">const_iterator</span> <span class="identifier">find</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

<span class="identifier">size_type</span> <span class="identifier">count</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
  <span class="identifier">size_type</span> <span class="identifier">count</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

<span class="identifier">iterator</span> <span class="identifier">lower_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
<span class="identifier">const_iterator</span> <span class="identifier">lower_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
  <span class="identifier">iterator</span> <span class="identifier">lower_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">);</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
  <span class="identifier">const_iterator</span> <span class="identifier">lower_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

<span class="identifier">iterator</span> <span class="identifier">upper_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
<span class="identifier">const_iterator</span> <span class="identifier">upper_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
  <span class="identifier">iterator</span> <span class="identifier">upper_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">);</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
  <span class="identifier">const_iterator</span> <span class="identifier">upper_bound</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

<span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">iterator</span><span class="special">,</span><span class="identifier">iterator</span><span class="special">&gt;</span> <span class="identifier">equal_range</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
<span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">const_iterator</span><span class="special">,</span><span class="identifier">const_iterator</span><span class="special">&gt;</span>
  <span class="identifier">equal_range</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
  <span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">iterator</span><span class="special">,</span><span class="identifier">iterator</span><span class="special">&gt;</span>
    <span class="identifier">equal_range</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">);</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cmp</span><span class="special">&gt;</span>
  <span class="identifier">pair</span><span class="special">&lt;</span><span class="identifier">const_iterator</span><span class="special">,</span><span class="identifier">const_iterator</span><span class="special">&gt;</span>
    <span class="identifier">equal_range</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">value_type</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">,</span> <span class="identifier">Cmp</span> <span class="identifier">cmp</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp8331200"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Notes:</em></span> The <code class="literal">find</code>, <code class="literal">lower_bound</code>,
            <code class="literal">upper_bound</code> and <code class="literal">equal_range</code> member
            functions each have four versions, differing in whether they return an
            <code class="literal">iterator</code> or a <code class="literal">const_iterator</code>, and
            if they take a <code class="literal">cmp</code> function object argument or not
            (<code class="literal">count</code> comes only in the latter two variants, as it
            returns a <code class="literal">size_type</code>, not an iterator). In each case
            the behavior of the four (two) functions is in principle identical.
          </p></div><div class="simplesect std_specification" id="idp8338720"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> logarithmic (with the exception of
            <code class="literal">count</code>, which is <code class="computeroutput"><span class="identifier">log</span><span class="special">(</span><span class="identifier">size</span><span class="special">())</span> <span class="special">+</span> <span class="identifier">count</span><span class="special">(</span><span class="identifier">x</span><span class="special">)</span></code>
          </p></div></div><div class="section  tree_tree_adaptors_balance_modifiers" id="tree.tree.adaptors.balance.modifiers"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.5.3. <a class="link" href="#tree.tree.adaptors.balance.modifiers" title="23.7.4.3.5.3. Balancing adaptor modifiers [balance.modifiers]">Balancing adaptor
          modifiers <span class="std_section_label">[balance.modifiers]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp8348432"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span>      <span class="identifier">push_front</span><span class="special">(</span><span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
<span class="keyword">void</span>      <span class="identifier">push_back</span><span class="special">(</span><span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
<span class="identifier">iterator</span>  <span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span> <span class="special">=</span> <span class="identifier">value_type</span><span class="special">());</span>
</pre></div><div class="simplesect std_specification" id="idp8366384"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> amortized constant
          </p></div><div class="simplesect std_definition" id="idp8367712"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span>      <span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">,</span> <span class="identifier">value_type</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">x</span><span class="special">);</span>
<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">InputIterator</span><span class="special">&gt;</span>
  <span class="keyword">void</span>    <span class="identifier">insert</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">position</span><span class="special">,</span> <span class="identifier">InputIterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">InputIterator</span> <span class="identifier">last</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp8386944"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> linear in the number of elements to
            insert
          </p></div><div class="simplesect std_definition" id="idp8388320"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span>      <span class="identifier">pop_front</span><span class="special">();</span>
<span class="keyword">void</span>      <span class="identifier">pop_back</span><span class="special">();</span>
<span class="keyword">void</span>      <span class="identifier">erase</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">position</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp8396512"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> amortized constant
          </p></div><div class="simplesect std_definition" id="idp8397840"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span>      <span class="identifier">erase</span><span class="special">(</span><span class="identifier">iterator</span> <span class="identifier">first</span><span class="special">,</span> <span class="identifier">iterator</span> <span class="identifier">last</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp8404256"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> <code class="literal">log(size())+N</code> where
            <code class="literal">N</code> is the distance from <code class="literal">first</code> to
            <code class="literal">last</code>
          </p></div><div class="simplesect std_definition" id="idp8408192"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">void</span>      <span class="identifier">clear</span><span class="special">();</span>
</pre></div><div class="simplesect std_specification" id="idp8411184"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Complexity:</em></span> <code class="literal">log(size())+N</code>
          </p></div></div><div class="section  tree_tree_adaptors_balance_special" id="tree.tree.adaptors.balance.special"><div class="titlepage"><div><div><h6 class="title">23.7.4.3.5.4. <a class="link" href="#tree.tree.adaptors.balance.special" title="23.7.4.3.5.4. Balancing adaptor specialized algorithms [balance.special]">Balancing adaptor
          specialized algorithms <span class="std_section_label">[balance.special]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp8415536"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
  <span class="keyword">void</span> <span class="identifier">swap</span><span class="special">(</span>  <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
              <span class="identifier">avl_tree</span><span class="special">&lt;</span><span class="identifier">T</span><span class="special">,</span> <span class="identifier">Hierarchy</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp8432016"><div class="titlepage"></div><p>
            <span class="emphasis"><em>Effects:</em></span> <code class="computeroutput"><span class="identifier">x</span><span class="special">.</span><span class="identifier">swap</span><span class="special">(</span><span class="identifier">y</span><span class="special">);</span></code>
          </p></div></div></div></div></div></div></div><div class="section std_section tree_proposal_iterators" id="tree.proposal.iterators"><div class="titlepage"><div><div><h3 class="title">24. <a class="link" href="#tree.proposal.iterators" title="24. Iterators library [iterators]">Iterators library
  <span class="std_section_label">[iterators]</span></a></h3></div></div></div><div class="section std_section lib_iterator_synopsis" id="lib.iterator.synopsis"><div class="titlepage"><div><div><h4 class="title">24.3. <a class="link" href="#lib.iterator.synopsis" title="24.3. Headers &lt;iterator&gt; synopsis [lib.iterator.synopsis]">Headers
  <code class="literal">&lt;iterator&gt;</code> synopsis <span class="std_section_label">[lib.iterator.synopsis]</span></a></h4></div></div></div><div class="note"><h3 class="title">Note</h3><p>
      Insert after section introduced with <code class="computeroutput"><span class="comment">// 24.6.5,
      range access:</span></code>
    </p></div><pre class="programlisting"><span class="comment">// 24.7, linear order traversal iterators</span>
<span class="keyword">namespace</span> <span class="identifier">preorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">iterator</span><span class="special">;</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>
      <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
      <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
    <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>
      <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
      <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace preorder   </span>

<span class="keyword">namespace</span> <span class="identifier">postorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">iterator</span><span class="special">;</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace postorder   </span>

<span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">iterator</span><span class="special">;</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="section std_section cursors" id="cursors"><div class="titlepage"><div><div><h4 class="title">24.7. <a class="link" href="#cursors" title="24.7. Cursors [cursors]">Cursors <span class="std_section_label">[cursors]</span></a></h4></div></div></div><div class="note"><h3 class="title">Note</h3><p>
      Add after subclause 24.7, Stream iterators ([stream.iterators]):
    </p></div><p>
    Cursors provide a uniform way of applying algorithms to hierarchical data structures.
    In order to also allow for algorithms relevant when dealing with linear data
    structures, any cursor class is actually a refinement of a corresponding iterator
    class.
  </p><p>
    If exactly one application of the expression <code class="computeroutput"><span class="identifier">i</span>
    <span class="special">=</span> <span class="identifier">i</span><span class="special">.</span><span class="identifier">begin</span><span class="special">()</span></code>,
    followed by a finite sequence of applications of the expression <code class="computeroutput"><span class="special">++</span><span class="identifier">j</span></code> makes
    <code class="computeroutput"><span class="identifier">i</span> <span class="special">==</span>
    <span class="identifier">j</span></code>, <code class="computeroutput"><span class="identifier">j</span></code>
    is a <span class="emphasis"><em>child</em></span> (or <span class="emphasis"><em>immediate descendant</em></span>)
    of <code class="computeroutput"><span class="identifier">i</span></code>, and <code class="computeroutput"><span class="identifier">i</span></code>
    is the <span class="emphasis"><em>parent</em></span> (or the <span class="emphasis"><em>immediate ancestor</em></span>)
    of <code class="computeroutput"><span class="identifier">j</span></code>. A cursor <code class="computeroutput"><span class="identifier">j</span></code> is another cursor <code class="computeroutput"><span class="identifier">i</span></code>'s
    descendant if there is a finite sequential combination of applications of either
    of the expressions <code class="computeroutput"><span class="special">++</span><span class="identifier">i</span></code>
    and <code class="computeroutput"><span class="identifier">i</span> <span class="special">=</span>
    <span class="identifier">i</span><span class="special">.</span><span class="identifier">begin</span><span class="special">()</span></code> that
    makes <code class="computeroutput"><span class="identifier">i</span> <span class="special">==</span>
    <span class="identifier">j</span></code>; <code class="computeroutput"><span class="identifier">i</span></code>
    is then called <code class="computeroutput"><span class="identifier">j</span></code>'s ancestor.
    If two cursors <code class="computeroutput"><span class="identifier">i</span></code> and <code class="computeroutput"><span class="identifier">j</span></code> share at least one common ancestor, they
    refer to the same container. The descending traversal capabilities of a class
    relate to the range of children of a given instance of that class.
  </p><p>
    In addition to a cursor's descending traversal tags, two of them are reused to
    indicate a cursor's ascending traversal abilities, namely <span class="emphasis"><em>forward</em></span>
    and <span class="emphasis"><em>bidirectional</em></span> traversal in order to indicate whether
    a given cursor provides traversal to the parent.
  </p><p>
    Apart from cursors that are <span class="emphasis"><em>past-the-end</em></span> (like their iterator
    counterparts can be), the notion of a cursor <span class="emphasis"><em>on-top</em></span> is introduced,
    denoting a cursor that is ancestor to all other cursors within a hierarchy; and
    just as for past-the-end ones, the library generally does not assume on-top cursors
    be dereferenceable.
  </p><p>
    A cursor <code class="computeroutput"><span class="identifier">c</span></code> for which <code class="computeroutput"><span class="identifier">c</span><span class="special">.</span><span class="identifier">emtpy</span><span class="special">()</span> <span class="special">==</span> <span class="keyword">true</span></code>
    is called a <span class="emphasis"><em>leaf cursor</em></span>. A leaf cursor's children are never
    assumed to be dereferenceable. A cursor which is either on-top or a descendant
    of an on-top cursor, but in either case not a leaf cursor, nor a descendant of
    a leaf cursor, is called an <span class="emphasis"><em>internal cursor</em></span>.
  </p><p>
    A cursor, like an iterator, can have a singular value that is not associated
    with any hierarchy, meaning that most expressions are undefined for it, with
    the exception of assignment of a non-singular value to a cursor that holds a
    singular value. The children of a leaf cursor's child are never assumed to be
    non-singular; nor is the parent of an on-top node.
  </p><p>
    Like for iterators, the Standard defines a number of categories of cursors according
    to the operations defined on them: <span class="emphasis"><em>cursor</em></span>, <span class="emphasis"><em>descending
    cursor</em></span>, <span class="emphasis"><em>descending forward cursor</em></span>, <span class="emphasis"><em>descending
    bidirectional cursor</em></span>, <span class="emphasis"><em>descending random access cursor</em></span>,
    <span class="emphasis"><em>ascending cursor</em></span>, <span class="emphasis"><em>ascending forward cursor</em></span>,
    <span class="emphasis"><em>ascending bidirectional</em></span> , and <span class="emphasis"><em>ascending random
    access cursor</em></span>. The cursors of any <span class="emphasis"><em>ascending</em></span> category
    generally support all the operations of their <span class="emphasis"><em>descending</em></span>
    counterpart, plus a method to obtain their parent; relations between the <span class="emphasis"><em>forward</em></span>,
    <span class="emphasis"><em>bidirectional</em></span> and <span class="emphasis"><em>random access</em></span> parts
    are as for iterators of those categories.
  </p><p>
    In the following sections <code class="literal">X</code> denotes a cursor over values of
    type <code class="literal">T</code>, <code class="literal">a</code> and <code class="literal">b</code> denotes
    an identifier, <code class="literal">r</code> denotes a value of <code class="literal">T&amp;</code>
    and <code class="literal">t</code> denotes a value of type <code class="literal">T</code>.
  </p><div class="section  tree_cursor_requirements" id="tree.cursor_requirements"><div class="titlepage"><div><div><h5 class="title">24.7.1. <a class="link" href="#tree.cursor_requirements" title="24.7.1. Cursor requirements [cursor.requirements]">Cursor requirements <span class="std_section_label">[cursor.requirements]</span></a></h5></div></div></div><div class="simplesect std_requisite" id="idp8604880"><div class="titlepage"></div><p>
      A class <code class="literal">X</code> satisfies the requirements of a cursor if the
      following expressions are valid, as shown in Table 8, in addition to satisfying
      the requirements of input iterators ([input.iterators]) and output iterators
      ([output.iterators]):
    </p><div class="table" id="tree.cursor_requirements.table8"><div class="table-title">Table 8.  Cursor requirements (in addition to input and output iterators)</div><div class="table-contents"><table class="table" summary=" Cursor requirements (in addition to input and output iterators)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
              <p>
                expression
              </p>
            </th><th>
              <p>
                return type
              </p>
            </th><th>
              <p>
                operational semantics
              </p>
            </th><th>
              <p>
                assertion/note <br> pre/post-condition
              </p>
            </th></tr></thead><tbody><tr><td>
              <p>
                <code class="literal">X::value_type</code>
              </p>
            </td><td>
              <p>
                <code class="literal">T</code>
              </p>
            </td><td>
              <p>
                Any non-reference, non-cv-qualified type
              </p>
            </td><td>
              <p>
                compile time
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">X::type</code>
              </p>
            </td><td>
              <p>
                Convertible to <code class="literal">cursor_tag</code>, <code class="literal">input_iterator_tag</code>,
                and <code class="literal">output_iterator_tag</code>
              </p>
            </td><td>
            </td><td>
              <p>
                compile time
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">X::cursor</code>
              </p>
            </td><td>
              <p>
                Convertible to <code class="literal">X</code>
              </p>
            </td><td>
            </td><td>
              <p>
                compile time
              </p>
            </td></tr><tr><td>
              <p>
                <code class="literal">X::const_cursor</code>
              </p>
            </td><td>
              <p>
                Convertible to <code class="literal">const X</code>
              </p>
            </td><td>
            </td><td>
              <p>
                compile time
              </p>
            </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section  tree_cursor_requirements_descending" id="tree.cursor_requirements.descending"><div class="titlepage"><div><div><h6 class="title">24.7.1.1. <a class="link" href="#tree.cursor_requirements.descending" title="24.7.1.1. Descending Cursor [descending.cursors]">Descending Cursor
      <span class="std_section_label">[descending.cursors]</span></a></h6></div></div></div><div class="simplesect std_requisite" id="idp8635232"><div class="titlepage"></div><p>
        A class <code class="literal">X</code> satisfies the requirements of a descending cursor
        if, in addition to satisfying the requirements for cursors ([cursor.requirements])
        it also conforms to the container requirements ([container.requirements])
        with the exception of the following expressions:
      </p><div class="table" id="tree.cursor_requirements.descending.table9"><div class="table-title">Table 9.  Container requirements that are not supported</div><div class="table-contents"><table class="table" summary=" Container requirements that are not supported"><colgroup><col></colgroup><thead><tr><th>
                <p>
                  unsupported expression
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">iterator</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">const_iterator</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">reverse_iterator</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">reverse_const_iterator</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="special">(&amp;</span><span class="identifier">a</span><span class="special">)-&gt;~</span><span class="identifier">X</span><span class="special">();</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">(</span><span class="identifier">a</span><span class="special">);</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span> <span class="identifier">u</span><span class="special">(</span><span class="identifier">a</span><span class="special">);</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span> <span class="identifier">u</span>
                  <span class="special">=</span> <span class="identifier">a</span><span class="special">;</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">begin</span><span class="special">()</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">end</span><span class="special">()</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">rbegin</span><span class="special">()</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">rend</span><span class="special">()</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span> <span class="special">==</span>
                  <span class="identifier">b</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span> <span class="special">!=</span>
                  <span class="identifier">b</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">swap</span><span class="special">(</span><span class="identifier">b</span><span class="special">)</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">r</span> <span class="special">=</span>
                  <span class="identifier">a</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span> <span class="special">&lt;</span>
                  <span class="identifier">b</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span> <span class="special">&gt;</span>
                  <span class="identifier">b</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span> <span class="special">&lt;=</span>
                  <span class="identifier">b</span></code>
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span> <span class="special">&gt;=</span>
                  <span class="identifier">b</span></code>
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"><p>
        Notes: The expressions <code class="literal">a.begin()</code> and <code class="literal">a.end()</code>
        are, as shown in Table 9, replaced with equivalent expressions for cursors.
      </p></div><div class="simplesect std_requisite" id="idp8717040"><div class="titlepage"></div><p>
        Additionally, for a descending cursor, the following expression are valid,
        as shown in Table 10:
      </p><div class="table" id="tree.cursor_requirements.descending.table10"><div class="table-title">Table 10.  Descending cursor requirements (in addition to cursor)</div><div class="table-contents"><table class="table" summary=" Descending cursor requirements (in addition to cursor)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>
                  expression
                </p>
              </th><th>
                <p>
                  return type
                </p>
              </th><th>
                <p>
                  operational semantics
                </p>
              </th><th>
                <p>
                  assertion/note <br> pre/post-condition
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="literal">X::type</code>
                </p>
              </td><td>
                <p>
                  Convertible to <code class="literal">descending_cursor_tag</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  compile time
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="literal">a.begin()</code>
                </p>
              </td><td>
                <p>
                  <code class="literal">cursor</code> or <code class="literal">const_cursor</code> for
                  constant <code class="literal">a</code>
                </p>
              </td><td>
                <p>
                  pre: <code class="literal">a</code> is non-leaf.
                </p>
              </td><td>
                <p>
                  constant
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="literal">a.end()</code>
                </p>
              </td><td>
                <p>
                  <code class="literal">cursor</code> or <code class="literal">const_cursor</code> for
                  constant <code class="literal">a</code>
                </p>
              </td><td>
                <p>
                  pre: <code class="literal">a</code> is non-leaf.
                </p>
              </td><td>
                <p>
                  constant
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="literal">a.cbegin()</code>
                </p>
              </td><td>
                <p>
                  <code class="literal">const_cursor</code>
                </p>
              </td><td>
                <p>
                  pre: <code class="literal">a</code> is non-leaf.
                </p>
              </td><td>
                <p>
                  constant
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="literal">a.cend()</code>
                </p>
              </td><td>
                <p>
                  <code class="literal">const_cursor</code>
                </p>
              </td><td>
                <p>
                  pre: <code class="literal">a</code> is non-leaf.
                </p>
              </td><td>
                <p>
                  constant
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="literal">a.parity()</code>
                </p>
              </td><td>
                <p>
                  <code class="literal">size_type</code>
                </p>
              </td><td>
                <p>
                  <code class="literal">std::distance(b.begin(), a)</code> if <code class="literal">b</code>
                  is <code class="literal">a</code>'s parent. <br> pre: <code class="literal">a</code>
                  is non-on-top.
                </p>
              </td><td>
                <p>
                  Linear in <code class="literal">b.size()</code>
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="section  tree_cursor_requirements_descending_forward" id="tree.cursor_requirements.descending_forward"><div class="titlepage"><div><div><h6 class="title">24.7.1.2. <a class="link" href="#tree.cursor_requirements.descending_forward" title="24.7.1.2. Descending Forward Cursor [descending.forward.cursors]">Descending
      Forward Cursor <span class="std_section_label">[descending.forward.cursors]</span></a></h6></div></div></div><p>
        A class type <code class="literal">X</code> satisfies the requirements of a descending
        forward cursor if the following expressions are valid, as shown in Table
        11, in addition to the requirements of descending cursors ([descending.cursors])
        and forward iterators ([forward.iterators]):
      </p><div class="table" id="tree.cursor_requirements.descending_forward.table11"><div class="table-title">Table 11.  Descending forward cursor requirements (in addition to descending
        cursors and forward iterators)</div><div class="table-contents"><table class="table" summary=" Descending forward cursor requirements (in addition to descending
        cursors and forward iterators)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>
                  expression
                </p>
              </th><th>
                <p>
                  return type
                </p>
              </th><th>
                <p>
                  operational semantics
                </p>
              </th><th>
                <p>
                  assertion/note <br> pre/post-condition
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="literal">X::type</code>
                </p>
              </td><td>
                <p>
                  Convertible to <code class="literal">descending_forward_cursor_tag</code>
                  and <code class="literal">forward_iterator_tag</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  compile time
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section  tree_cursor_requirements_descending_bidirectional" id="tree.cursor_requirements.descending_bidirectional"><div class="titlepage"><div><div><h6 class="title">24.7.1.3. <a class="link" href="#tree.cursor_requirements.descending_bidirectional" title="24.7.1.3. Descending Bidirectional Cursor [descending.bidirectional.cursors]">Descending
      Bidirectional Cursor <span class="std_section_label">[descending.bidirectional.cursors]</span></a></h6></div></div></div><p>
        A class type <code class="literal">X</code> satisfies the requirements of a descending
        bidirectional cursor if the following expressions are valid, as shown in
        Table 12, in addition to satisfying the requirements for descending forward
        cursors ([descending.forward.cursors]) and bidirectional iterators ([bidirectional.iterators]):
      </p><div class="table" id="tree.cursor_requirements.descending_bidirectional.table12"><div class="table-title">Table 12.  Descending bidirectional cursor requirements (in addition to forward
        descending cursors and bidirectional iterators)</div><div class="table-contents"><table class="table" summary=" Descending bidirectional cursor requirements (in addition to forward
        descending cursors and bidirectional iterators)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>
                  expression
                </p>
              </th><th>
                <p>
                  return type
                </p>
              </th><th>
                <p>
                  operational semantics
                </p>
              </th><th>
                <p>
                  assertion/note <br> pre/post-condition
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">type</span></code>
                </p>
              </td><td>
                <p>
                  Convertible to <code class="literal">descending_bidirectional_cursor_tag</code>
                  and <code class="literal">bidirectional_iterator_tag</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  compile time
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"><div class="note"><h3 class="title">Note</h3><p>
          rbegin() and rend() do not seem very useful for multiway trees, as they
          hide end() and its possible children. Are different semantics or maybe
          having rend() stand in for end() sensible solutions? Or just ignore this
          aspect?
        </p></div></div><div class="section  tree_cursor_requirements_descending_random_access" id="tree.cursor_requirements.descending_random_access"><div class="titlepage"><div><div><h6 class="title">24.7.1.4. <a class="link" href="#tree.cursor_requirements.descending_random_access" title="24.7.1.4. Descending Random Access Cursor [descending.random.access.cursors]">Descending
      Random Access Cursor <span class="std_section_label">[descending.random.access.cursors]</span></a></h6></div></div></div><p>
        A class type <code class="literal">X</code> satisfies the requirements of a descending
        random access cursor if the following expressions are valid, as shown in
        Table 13, in addition to satisfying the requirements for descending bidirectional
        cursors ([descending.bidirectional.cursors]) and random access iterators
        ([random.access.iterators]):
      </p><div class="table" id="tree.cursor_requirements.descending_random_access.table13"><div class="table-title">Table 13.  Descending random access cursor requirements (in addition to descending
        bidirectional cursors and random access iterators)</div><div class="table-contents"><table class="table" summary=" Descending random access cursor requirements (in addition to descending
        bidirectional cursors and random access iterators)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>
                  expression
                </p>
              </th><th>
                <p>
                  return type
                </p>
              </th><th>
                <p>
                  operational semantics
                </p>
              </th><th>
                <p>
                  assertion/note <br> pre/post-condition
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">type</span></code>
                </p>
              </td><td>
                <p>
                  Convertible to <code class="literal">descending_random_access_cursor_tag</code>
                  and <code class="literal">random_access_iterator_tag</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  compile time
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section  tree_cursor_requirements_ascending" id="tree.cursor_requirements.ascending"><div class="titlepage"><div><div><h6 class="title">24.7.1.5. <a class="link" href="#tree.cursor_requirements.ascending" title="24.7.1.5. Ascending Cursor [ascending.cursors]">Ascending Cursor
      <span class="std_section_label">[ascending.cursors]</span></a></h6></div></div></div><div class="simplesect std_requisite" id="idp8816112"><div class="titlepage"></div><p>
        A class type <code class="literal">X</code> satisfies the requirements of an ascending
        cursor if the following expressions are valid, as shown in Table 14, in addition
        to satisfying the requirements for descending cursors ([descending.cursors]):
      </p><div class="table" id="tree.cursor_requirements.ascending.table14"><div class="table-title">Table 14.  Ascending cursor requirements (in addition to descending cursors)</div><div class="table-contents"><table class="table" summary=" Ascending cursor requirements (in addition to descending cursors)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>
                  expression
                </p>
              </th><th>
                <p>
                  return type
                </p>
              </th><th>
                <p>
                  operational semantics
                </p>
              </th><th>
                <p>
                  assertion/note<br> pre/post-condition
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">::</span><span class="identifier">type</span></code>
                </p>
              </td><td>
                <p>
                  Convertible to <code class="literal">ascending_cursor_tag</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  compile time
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="identifier">a</span><span class="special">.</span><span class="identifier">parent</span><span class="special">()</span></code>
                </p>
              </td><td>
                <p>
                  <code class="literal">cursor</code>; <code class="literal">const_cursor</code> for
                  a constant <code class="literal">a</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  (Note A)
                </p>
              </td></tr><tr><td>
                <p>
                  <code class="computeroutput"><span class="special">!</span><span class="identifier">r</span></code>
                </p>
              </td><td>
                <p>
                  <code class="computeroutput"><span class="identifier">X</span><span class="special">&amp;</span></code>
                </p>
              </td><td>
                <p>
                  <code class="computeroutput"><span class="identifier">r</span> <span class="special">=</span>
                  <span class="identifier">r</span><span class="special">.</span><span class="identifier">parent</span><span class="special">();</span></code>
                </p>
              </td><td>
                <p>
                  pre: <code class="literal">r</code> is an internal, non-on-top cursor. <br>
                  post: <code class="literal">r</code> is internal. <br> <code class="computeroutput"><span class="identifier">r</span>
                  <span class="special">==</span> <span class="identifier">s</span></code>
                  and <code class="computeroutput"><span class="identifier">r</span></code> is internal
                  and non-on-top implies <code class="computeroutput"><span class="special">!</span><span class="identifier">r</span> <span class="special">==</span>
                  <span class="special">!</span><span class="identifier">s</span></code>.
                  <br> <code class="computeroutput"><span class="special">&amp;</span><span class="identifier">r</span>
                  <span class="special">==</span> <span class="special">&amp;!</span><span class="identifier">r</span></code> <br> (Note A)
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"><p>
        <span class="emphasis"><em>Notes:</em></span> Those entries marked "(Note A)" should
        have at worst linear complexity. See the individual hierarchy containers
        for specific complexity.
      </p></div></div><div class="section  tree_cursor_requirements_ascending_forward" id="tree.cursor_requirements.ascending_forward"><div class="titlepage"><div><div><h6 class="title">24.7.1.6. <a class="link" href="#tree.cursor_requirements.ascending_forward" title="24.7.1.6. Ascending Forward Cursor [ascending.forward.cursors]">Ascending
      Forward Cursor <span class="std_section_label">[ascending.forward.cursors]</span></a></h6></div></div></div><p>
        A class type <code class="literal">X</code> satisfies the requirements of an ascending
        forward cursor if the following expressions are valid, as shown in Table
        15, in addition to satisfying the requirements for ascending cursors ([ascending.cursors])
        and descending forward cursors ([descending.forward.cursors]):
      </p><div class="table" id="tree.cursor_requirements.ascending_forward.table15"><div class="table-title">Table 15.  Ascending forward cursor requirements (in addition to ascending cursors
        and descending forward cursors)</div><div class="table-contents"><table class="table" summary=" Ascending forward cursor requirements (in addition to ascending cursors
        and descending forward cursors)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>
                  expression
                </p>
              </th><th>
                <p>
                  return type
                </p>
              </th><th>
                <p>
                  operational semantics
                </p>
              </th><th>
                <p>
                  assertion/note<br> pre/post-condition
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="literal">X::type</code>
                </p>
              </td><td>
                <p>
                  Convertible to <code class="literal">ascending_forward_cursor_tag</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  compile time
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section  tree_cursor_requirements_ascending_bidirectional" id="tree.cursor_requirements.ascending_bidirectional"><div class="titlepage"><div><div><h6 class="title">24.7.1.7. <a class="link" href="#tree.cursor_requirements.ascending_bidirectional" title="24.7.1.7. Ascending Bidirectional Cursor [ascending.bidirectional.cursors]">Ascending
      Bidirectional Cursor <span class="std_section_label">[ascending.bidirectional.cursors]</span></a></h6></div></div></div><p>
        A class type <code class="literal">X</code> satisfies the requirements of an ascending
        bidirectional cursor if the following expressions are valid, as shown in
        Table 16, in addition to satisfying the requirements of ascending forward
        cursors ([ascending.forward.cursors]) and descending bidirectional cursors
        ([descending.bidirectional.cursors]):
      </p><div class="table" id="tree.cursor_requirements.ascending_bidirectional.table16"><div class="table-title">Table 16.  Ascending bidirectional cursor requirements (in addition to ascending
        forward cursors and descending bidirectional cursors)</div><div class="table-contents"><table class="table" summary=" Ascending bidirectional cursor requirements (in addition to ascending
        forward cursors and descending bidirectional cursors)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>
                  expression
                </p>
              </th><th>
                <p>
                  return type
                </p>
              </th><th>
                <p>
                  operational semantics
                </p>
              </th><th>
                <p>
                  assertion/note<br> pre/post-condition
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="literal">X::type</code>
                </p>
              </td><td>
                <p>
                  Convertible to <code class="literal">ascending_bidirectional_cursor_tag</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  compile time
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section  tree_cursor_requirements_ascending_random_access" id="tree.cursor_requirements.ascending_random_access"><div class="titlepage"><div><div><h6 class="title">24.7.1.8. <a class="link" href="#tree.cursor_requirements.ascending_random_access" title="24.7.1.8. Ascending Random Access Cursor [ascending.random.access.cursors]">Ascending
      Random Access Cursor <span class="std_section_label">[ascending.random.access.cursors]</span></a></h6></div></div></div><p>
        A class type <code class="literal">X</code> satisfies the requirements of an ascending
        random access cursor if the following expressions are valid, as shown in
        Table 17, in addition to satisfying the requirements for ascending bidirectional
        cursors ([ascending.bidirectional.cursors]) and descending random access
        cursors ([descending.random.access.cursors]):
      </p><div class="table" id="tree.cursor_requirements.ascending_random_access.table17"><div class="table-title">Table 17.  Ascending random access cursor requirements (in addition to ascending
        bidirectional cursors and descending random access cursors)</div><div class="table-contents"><table class="table" summary=" Ascending random access cursor requirements (in addition to ascending
        bidirectional cursors and descending random access cursors)"><colgroup><col><col><col><col></colgroup><thead><tr><th>
                <p>
                  expression
                </p>
              </th><th>
                <p>
                  return type
                </p>
              </th><th>
                <p>
                  operational semantics
                </p>
              </th><th>
                <p>
                  assertion/note<br> pre/post-condition
                </p>
              </th></tr></thead><tbody><tr><td>
                <p>
                  <code class="literal">X::type</code>
                </p>
              </td><td>
                <p>
                  Convertible to <code class="literal">ascending_random_access_cursor_tag</code>
                </p>
              </td><td>
              </td><td>
                <p>
                  compile time
                </p>
              </td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="section  tree_cursor_flavors" id="tree.cursor_flavors"><div class="titlepage"><div><div><h5 class="title">24.7.2. <a class="link" href="#tree.cursor_flavors" title="24.7.2. Cursor flavors [cursor.flavors]">Cursor flavors <span class="std_section_label">[cursor.flavors]</span></a></h5></div></div></div><p>
      A cursor that satisfies at least the descending cursor requirements ([descending.cursors])
      can be either a <span class="emphasis"><em>plain cursor</em></span> or a <span class="emphasis"><em>multiway cursor</em></span>.
      If the expressions <code class="literal">a.begin()</code>, <code class="literal">a.cbegin()</code>,
      <code class="literal">a.end()</code> and <code class="literal">a.cend()</code> are valid for any
      internal cursor <code class="literal">a</code> of type <code class="literal">X</code>, except for
      past-the-end ones, <code class="literal">X</code> satisfies the <span class="emphasis"><em>plain cursor</em></span>
      requirements. If those expressions are valid for any internal cursor <span class="emphasis"><em>including</em></span>
      past-the-end ones, <code class="literal">X</code> satisfies the <span class="emphasis"><em>multiway cursor</em></span>
      requirements.
    </p></div><div class="section  tree_cursor_synopsis" id="tree.cursor_synopsis"><div class="titlepage"><div><div><h5 class="title">24.7.3. <a class="link" href="#tree.cursor_synopsis" title="24.7.3. Header &lt;cursor&gt; synopsis [cursor.synopsis]">Header <code class="literal">&lt;cursor&gt;</code>
    synopsis <span class="std_section_label">[cursor.synopsis]</span></a></h5></div></div></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="comment">// 24.7.4, cursor primitives</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_value</span><span class="special">;</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_reference</span><span class="special">;</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_const_reference</span><span class="special">;</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_pointer</span><span class="special">;</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_difference</span><span class="special">;</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_size</span><span class="special">;</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_category</span><span class="special">;</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Category</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Distance</span> <span class="special">=</span> <span class="identifier">ptrdiff_t</span><span class="special">,</span>
            <span class="keyword">class</span> <span class="identifier">Size</span> <span class="special">=</span> <span class="identifier">size_t</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Pointer</span> <span class="special">=</span> <span class="identifier">T</span><span class="special">*,</span>
            <span class="keyword">class</span> <span class="identifier">Reference</span> <span class="special">=</span> <span class="identifier">T</span><span class="special">&amp;&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor</span><span class="special">;</span>

  <span class="keyword">struct</span> <span class="identifier">cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">input_iterator_tag</span><span class="special">,</span> <span class="keyword">public</span> <span class="identifier">output_iterator_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">descending_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">cursor_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">descending_forward_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_cursor_tag</span><span class="special">,</span> <span class="keyword">public</span> <span class="identifier">forward_iterator_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">descending_bidirectional_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_cursor_tag</span><span class="special">,</span> <span class="keyword">public</span> <span class="identifier">bidirectional_iterator_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">descending_random_access_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_cursor_tag</span><span class="special">,</span> <span class="keyword">public</span> <span class="identifier">random_access_iterator_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">ascending_cursor_tag</span>
        <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_cursor_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">ascending_forward_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_forward_cursor_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">ascending_bidirectional_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_bidirectional_cursor_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">ascending_random_access_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_random_access_cursor_tag</span> <span class="special">{};</span>
<span class="special">}</span> <span class="comment">// namespace std</span>
</pre></div><div class="section  tree_cursor_primitives" id="tree.cursor_primitives"><div class="titlepage"><div><div><h5 class="title">24.7.4. <a class="link" href="#tree.cursor_primitives" title="24.7.4. Cursor primitives [cursor.primitives]">Cursor primitives <span class="std_section_label">[cursor.primitives]</span></a></h5></div></div></div><p>
      To simplify the task of defining cursors, the library provides several classes
      and functions:
    </p><div class="section  tree_cursor_primitives_cursor_traits" id="tree.cursor_primitives.cursor_traits"><div class="titlepage"><div><div><h6 class="title">24.7.4.1. <a class="link" href="#tree.cursor_primitives.cursor_traits" title="24.7.4.1. Cursor traits [cursor.traits]">Cursor traits
      <span class="std_section_label">[cursor.traits]</span></a></h6></div></div></div><p>
        The following classes are required to be defined appropriately for a cursor
        of type <code class="literal">Cursor</code>:
      </p><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_value</span> <span class="special">{</span>
  <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">Cursor</span><span class="special">::</span><span class="identifier">value_type</span> <span class="identifier">type</span><span class="special">;</span>
<span class="special">};</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_reference</span> <span class="special">{</span>
  <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">Cursor</span><span class="special">::</span><span class="identifier">reference</span> <span class="identifier">type</span><span class="special">;</span>
<span class="special">};</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_const_reference</span> <span class="special">{</span>
  <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">Cursor</span><span class="special">::</span><span class="identifier">const_reference</span> <span class="identifier">type</span><span class="special">;</span>
<span class="special">};</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_pointer</span> <span class="special">{</span>
  <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">Cursor</span><span class="special">::</span><span class="identifier">pointer</span> <span class="identifier">type</span><span class="special">;</span>
<span class="special">};</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_difference</span> <span class="special">{</span>
  <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">Cursor</span><span class="special">::</span><span class="identifier">difference_type</span> <span class="identifier">type</span><span class="special">;</span>
<span class="special">};</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_size</span> <span class="special">{</span>
  <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">Cursor</span><span class="special">::</span><span class="identifier">size_type</span> <span class="identifier">type</span><span class="special">;</span>
<span class="special">};</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span> <span class="keyword">struct</span> <span class="identifier">cursor_category</span> <span class="special">{</span>
  <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="identifier">Cursor</span><span class="special">::</span><span class="identifier">cursor_category</span> <span class="identifier">type</span><span class="special">;</span>
<span class="special">};</span>
</pre></div><div class="section  tree_cursor_primitives_cursor_basic" id="tree.cursor_primitives.cursor_basic"><div class="titlepage"><div><div><h6 class="title">24.7.4.2. <a class="link" href="#tree.cursor_primitives.cursor_basic" title="24.7.4.2. Basic cursor [cursor.basic]">Basic cursor <span class="std_section_label">[cursor.basic]</span></a></h6></div></div></div><p>
        The <code class="literal">cursor</code> template may be used as a base class to ease
        the definition of required types for new cursors.
      </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Category</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Distance</span> <span class="special">=</span> <span class="identifier">ptrdiff_t</span><span class="special">,</span>
            <span class="keyword">class</span> <span class="identifier">Size</span> <span class="special">=</span> <span class="identifier">size_t</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">Pointer</span> <span class="special">=</span> <span class="identifier">T</span><span class="special">*,</span>
            <span class="keyword">class</span> <span class="identifier">Reference</span> <span class="special">=</span> <span class="identifier">T</span><span class="special">&amp;&gt;</span>
  <span class="keyword">struct</span> <span class="identifier">cursor</span> <span class="special">{</span>
    <span class="keyword">typedef</span> <span class="identifier">Category</span>  <span class="identifier">cursor_category</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">T</span>         <span class="identifier">value_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">Distance</span>  <span class="identifier">difference_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">Size</span>      <span class="identifier">size_type</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">Pointer</span>   <span class="identifier">pointer</span><span class="special">;</span>
    <span class="keyword">typedef</span> <span class="identifier">Reference</span> <span class="identifier">reference</span><span class="special">;</span>
  <span class="special">};</span>
<span class="special">}</span> <span class="comment">// namespace std</span>
</pre></div><div class="section  tree_cursor_primitives_cursor_tags" id="tree.cursor_primitives.cursor_tags"><div class="titlepage"><div><div><h6 class="title">24.7.4.3. <a class="link" href="#tree.cursor_primitives.cursor_tags" title="24.7.4.3. Standard cursor tags [cursor.tags]">Standard cursor tags
      <span class="std_section_label">[cursor.tags]</span></a></h6></div></div></div><p>
        Cursor tags pick up the notion of iterator tags ([std.iterator.tags]) and
        extend them by adding information about a given cursor class' descending
        or ascending traversal capabilities ([cursor.requirements]). This yields
        the cursor tags <code class="literal">cursor_tag</code>, <code class="literal">descending_cursor_tag</code>,
        <code class="literal">descending_forward_cursor_tag</code>, <code class="literal">descending_bidirectional_cursor_tag</code>,
        <code class="literal">descending_random_access_cursor_tag</code>, <code class="literal">ascending_cursor_tag</code>,
        <code class="literal">ascending_forward_cursor_tag</code>, <code class="literal">ascending_bidirectional_cursor_tag</code>
        and <code class="literal">ascending_random_access_cursor_tag</code>. For every cursor
        of type <code class="literal">Cursor</code>, <code class="literal">cursor_category&lt;Cursor&gt;::type</code>
        must be defined to be the most specific category tag that describes the cursor's
        behavior.
      </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>
  <span class="keyword">struct</span> <span class="identifier">cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">input_iterator_tag</span><span class="special">,</span> <span class="keyword">public</span> <span class="identifier">output_iterator_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">descending_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">cursor_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">descending_forward_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_cursor_tag</span><span class="special">,</span> <span class="keyword">public</span> <span class="identifier">forward_iterator_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">descending_bidirectional_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_cursor_tag</span><span class="special">,</span> <span class="keyword">public</span> <span class="identifier">bidirectional_iterator_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">descending_random_access_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_cursor_tag</span><span class="special">,</span> <span class="keyword">public</span> <span class="identifier">random_access_iterator_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">ascending_cursor_tag</span>
        <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_cursor_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">ascending_forward_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_forward_cursor_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">ascending_bidirectional_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_bidirectional_cursor_tag</span> <span class="special">{};</span>
  <span class="keyword">struct</span> <span class="identifier">ascending_random_access_cursor_tag</span>
    <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">descending_random_access_cursor_tag</span> <span class="special">{};</span>
<span class="special">}</span> <span class="comment">// namespace std</span>
</pre></div></div></div><div class="section std_section order_iterators" id="order.iterators"><div class="titlepage"><div><div><h4 class="title">24.8. <a class="link" href="#order.iterators" title="24.8. Linear order traversal iterators [order.iterators]">Linear order traversal iterators <span class="std_section_label">[order.iterators]</span></a></h4></div></div></div><p>
    For linear traversal of hierarchies, the library offers a number of useful predefined
    iterators, namely for <code class="literal">preorder</code>, <code class="literal">postorder</code>
    and <code class="literal">inorder</code> traversal in namespaces named accordingly.
  </p><p>
    <span class="emphasis"><em>Preorder traversal</em></span> means that after a given element, first
    the subtree to its left, then the one to its right will be visited.
  </p><p>
    <span class="emphasis"><em>Postorder traversal</em></span> means that before a given element, first
    the subtree to its left, then the one to its right will be visited.
  </p><p>
    <span class="emphasis"><em>Inorder traversal</em></span> means that a given element will be visited
    after the subtree to its left and before the one to its right will be visited.
  </p><p>
    For each of the above kinds of traversal order, the library offers a kind of
    order traversal iterator adaptor template class whose template parameter is a
    bidirectional or random access (either ascending or descending) cursor class.
    Increment and decrement operations for these iterator adaptor classes are implemented
    to allow stepwise iteration according to the respective requirements.
  </p><div class="section  tree_order_iterator" id="tree.order_iterator"><div class="titlepage"><div><div><h5 class="title">24.8.1. <a class="link" href="#tree.order_iterator" title="24.8.1. Class template iterator [order.iterator]">Class template <code class="literal">iterator</code>
    <span class="std_section_label">[order.iterator]</span></a></h5></div></div></div><div class="simplesect std_definition" id="idp9202016"><div class="titlepage"></div><p>
      In the following, the template class <code class="literal">iterator</code> and related
      operators only as in <code class="literal">namespace</code> <code class="literal">preorder</code>
      are shown. Note that template classes and operators of same name and interface
      must also be present in <code class="literal">namespace</code> <code class="literal">postorder</code>
      as well as in <code class="literal">namespace</code> <code class="literal">inorder</code>.
    </p><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">std</span> <span class="special">{</span>

<span class="keyword">namespace</span> <span class="identifier">preorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">class</span> <span class="identifier">iterator</span> <span class="special">:</span>
    <span class="keyword">public</span> <span class="identifier">iterator</span><span class="special">&lt;</span> <span class="comment">/* see Note A */</span><span class="special">,</span>
                    <span class="keyword">typename</span> <span class="identifier">iterator_traits</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;::</span><span class="identifier">value_type</span><span class="special">,</span>
                    <span class="keyword">typename</span> <span class="identifier">iterator_traits</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;::</span><span class="identifier">difference_type</span><span class="special">,</span>
                    <span class="keyword">typename</span> <span class="identifier">iterator_traits</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;::</span><span class="identifier">pointer</span><span class="special">,</span>
                    <span class="keyword">typename</span> <span class="identifier">iterator_traits</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;::</span><span class="identifier">reference</span><span class="special">&gt;</span> <span class="special">{</span>
  <span class="keyword">protected</span><span class="special">:</span>
    <span class="identifier">Cursor</span> <span class="identifier">current</span><span class="special">;</span>
  <span class="keyword">public</span><span class="special">:</span>
    <span class="keyword">typedef</span> <span class="identifier">Cursor</span> <span class="identifier">cursor_type</span><span class="special">;</span>
    <span class="identifier">iterator</span><span class="special">();</span>
    <span class="keyword">explicit</span> <span class="identifier">iterator</span><span class="special">(</span><span class="identifier">Cursor</span> <span class="identifier">x</span><span class="special">);</span>

    <span class="identifier">Cursor</span> <span class="identifier">base</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span>         <span class="comment">// explicit</span>
    <span class="identifier">Reference</span> <span class="keyword">operator</span><span class="special">*()</span> <span class="keyword">const</span><span class="special">;</span>
    <span class="identifier">Pointer</span>   <span class="keyword">operator</span><span class="special">-&gt;()</span> <span class="keyword">const</span><span class="special">;</span>

    <span class="identifier">iterator</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">++();</span>
    <span class="identifier">iterator</span>  <span class="keyword">operator</span><span class="special">++(</span><span class="keyword">int</span><span class="special">);</span>
    <span class="identifier">iterator</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">--();</span>
    <span class="identifier">iterator</span>  <span class="keyword">operator</span><span class="special">--(</span><span class="keyword">int</span><span class="special">);</span>
  <span class="special">};</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

<span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>

<span class="special">}</span> <span class="comment">// namespace preorder</span>

<span class="special">}</span> <span class="comment">// namespace std</span>
</pre><p>
      <span class="emphasis"><em>Note A:</em></span> If <code class="computeroutput"><span class="keyword">typename</span>
      <span class="identifier">iterator_traits</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;::</span><span class="identifier">iterator_category</span></code> is equivalent to <code class="literal">random_access_iterator_tag</code>,
      put in <code class="literal">bidirectional_iterator_tag</code>; otherwise put in <code class="computeroutput"><span class="keyword">typename</span> <span class="identifier">iterator_traits</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;::</span><span class="identifier">iterator_category</span></code>.
    </p></div></div><div class="section  tree_order_iter_requirements" id="tree.order_iter_requirements"><div class="titlepage"><div><div><h5 class="title">24.8.2. <a class="link" href="#tree.order_iter_requirements" title="24.8.2. Linear order iterator requirements [order.iter.requirements]">Linear order <code class="literal">iterator</code>
    requirements <span class="std_section_label">[order.iter.requirements]</span></a></h5></div></div></div><p>
      The template parameter <code class="literal">Cursor</code> shall meet all the requirements
      of an Ascending Forward Cursor ([ascending.forward.cursors]). Additionally,
      for the template class and operators in <code class="literal">namespace</code> <code class="literal">inorder</code>,
      the template parameter <code class="literal">Cursor</code> must be a Multiway Cursor
      ([cursor.flavors]).
    </p><p>
      Additionally, <code class="literal">Cursor</code> shall meet the requirements of a Ascending
      Bidirectional Cursor ([ascending.bidirectional.cursors]) if the member <code class="literal">operator--</code>
      ([order.iter.op.eq]) is referenced in a way that requires instantiation (14.7.1).
    </p></div><div class="section  tree_order_iter_ops" id="tree.order_iter_ops"><div class="titlepage"><div><div><h5 class="title">24.8.3. <a class="link" href="#tree.order_iter_ops" title="24.8.3. inorder::iterator operations [order.iter.ops]"><code class="literal">inorder::iterator</code>
    operations <span class="std_section_label">[order.iter.ops]</span></a></h5></div></div></div><div class="section  tree_order_iter_ops_order_iter_cons" id="tree.order_iter_ops.order_iter_cons"><div class="titlepage"><div><div><h6 class="title">24.8.3.1. <a class="link" href="#tree.order_iter_ops.order_iter_cons" title="24.8.3.1. inorder::iterator constructor [order.iter.cons]"><code class="literal">inorder::iterator</code>
      constructor <span class="std_section_label">[order.iter.cons]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9318368"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">explicit</span> <span class="identifier">iterator</span><span class="special">(</span><span class="identifier">Cursor</span> <span class="identifier">x</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp9322944"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Effects:</em></span> Initializes <code class="literal">current</code> with
        <code class="literal">x</code>.
      </p></div></div><div class="section  tree_order_iter_ops_order_iter_conv" id="tree.order_iter_ops.order_iter_conv"><div class="titlepage"><div><div><h6 class="title">24.8.3.2. <a class="link" href="#tree.order_iter_ops.order_iter_conv" title="24.8.3.2. Conversion [order.iter.conv]">Conversion <span class="std_section_label">[order.iter.conv]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9328016"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">Iterator</span> <span class="identifier">base</span><span class="special">()</span> <span class="keyword">const</span><span class="special">;</span> <span class="comment">// explicit</span>
</pre></div><div class="simplesect std_specification" id="idp9332736"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">current</span></code>
      </p></div></div><div class="section  tree_order_iter_ops_order_iter_op_star" id="tree.order_iter_ops.order_iter_op_star"><div class="titlepage"><div><div><h6 class="title">24.8.3.3. <a class="link" href="#tree.order_iter_ops.order_iter_op_star" title="24.8.3.3. operator* [order.iter.op.star]"><code class="literal">operator*</code>
      <span class="std_section_label">[order.iter.op.star]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9338064"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">Reference</span> <span class="keyword">operator</span><span class="special">*()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp9358400"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="special">*</span><span class="identifier">current</span></code>
      </p></div></div><div class="section  tree_order_iter_ops_order_iter_op_ref" id="tree.order_iter_ops.order_iter_op_ref"><div class="titlepage"><div><div><h6 class="title">24.8.3.4. <a class="link" href="#tree.order_iter_ops.order_iter_op_ref" title="24.8.3.4. operator-&gt; [order.iter.op.ref]"><code class="literal">operator-&gt;</code>
      <span class="std_section_label">[order.iter.op.ref]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9364256"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">Pointer</span> <span class="keyword">operator</span><span class="special">-&gt;()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp9368368"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="special">&amp;(</span><span class="keyword">operator</span><span class="special">*())</span></code>
      </p></div></div><div class="section  tree_order_iter_ops_order_iter_op_inc" id="tree.order_iter_ops.order_iter_op_inc"><div class="titlepage"><div><div><h6 class="title">24.8.3.5. <a class="link" href="#tree.order_iter_ops.order_iter_op_inc" title="24.8.3.5. operator++ [order.iter.op.inc]"><code class="literal">operator++</code>
      <span class="std_section_label">[order.iter.op.inc]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9374656"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">iterator</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">++()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp9379264"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Effects:</em></span> Sets <code class="literal">current</code> to the next
        cursor in the given order.
      </p></div><div class="simplesect std_specification" id="idp9381280"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
      </p></div><div class="simplesect std_definition" id="idp9384176"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">iterator</span> <span class="keyword">operator</span><span class="special">++(</span><span class="keyword">int</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp9389296"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Effects:</em></span>
      </p><pre class="programlisting"><span class="identifier">iterator</span> <span class="identifier">tmp</span> <span class="special">=</span> <span class="special">*</span><span class="keyword">this</span><span class="special">;</span>
<span class="keyword">this</span><span class="special">-&gt;</span><span class="keyword">operator</span><span class="special">++();</span>
<span class="keyword">return</span> <span class="identifier">tmp</span><span class="special">;</span>
</pre></div></div><div class="section  tree_order_iter_ops_order_iter_op_dec" id="tree.order_iter_ops.order_iter_op_dec"><div class="titlepage"><div><div><h6 class="title">24.8.3.6. <a class="link" href="#tree.order_iter_ops.order_iter_op_dec" title="24.8.3.6. operator-- [order.iter.op.dec]"><code class="literal">operator--</code>
      <span class="std_section_label">[order.iter.op.dec]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9401600"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">iterator</span><span class="special">&amp;</span> <span class="keyword">operator</span><span class="special">--()</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp9406208"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Effects:</em></span> Sets <code class="literal">current</code> to the previous
        cursor in the given order.
      </p></div><div class="simplesect std_specification" id="idp9408224"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="special">*</span><span class="keyword">this</span></code>
      </p></div><div class="simplesect std_definition" id="idp9411120"><div class="titlepage"></div><pre class="programlisting"><span class="identifier">iterator</span> <span class="keyword">operator</span><span class="special">--(</span><span class="keyword">int</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
</pre></div><div class="simplesect std_specification" id="idp9416240"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Effects:</em></span>
      </p><pre class="programlisting"><span class="identifier">iterator</span> <span class="identifier">tmp</span> <span class="special">=</span> <span class="special">*</span><span class="keyword">this</span><span class="special">;</span>
<span class="keyword">this</span><span class="special">-&gt;</span><span class="keyword">operator</span><span class="special">--();</span>
<span class="keyword">return</span> <span class="identifier">tmp</span><span class="special">;</span>
</pre></div></div><div class="section  tree_order_iter_ops_order_iter_op_eq" id="tree.order_iter_ops.order_iter_op_eq"><div class="titlepage"><div><div><h6 class="title">24.8.3.7. <a class="link" href="#tree.order_iter_ops.order_iter_op_eq" title="24.8.3.7. operator== [order.iter.op.eq]"><code class="literal">operator==</code>
      <span class="std_section_label">[order.iter.op.eq]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9428544"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">==(</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp9442304"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">x</span><span class="special">.</span><span class="identifier">current</span> <span class="special">==</span> <span class="identifier">y</span><span class="special">.</span><span class="identifier">current</span></code>
      </p></div></div><div class="section  tree_order_iter_ops_order_iter_op_ne" id="tree.order_iter_ops.order_iter_op_ne"><div class="titlepage"><div><div><h6 class="title">24.8.3.8. <a class="link" href="#tree.order_iter_ops.order_iter_op_ne" title="24.8.3.8. operator!= [order.iter.op.ne]"><code class="literal">operator!=</code>
      <span class="std_section_label">[order.iter.op.ne]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9450784"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Cursor</span><span class="special">&gt;</span>
  <span class="keyword">bool</span> <span class="keyword">operator</span><span class="special">!=(</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">x</span><span class="special">,</span>
    <span class="keyword">const</span> <span class="identifier">iterator</span><span class="special">&lt;</span><span class="identifier">Cursor</span><span class="special">&gt;&amp;</span> <span class="identifier">y</span><span class="special">);</span>
</pre></div><div class="simplesect std_specification" id="idp9464544"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> <code class="computeroutput"><span class="identifier">x</span><span class="special">.</span><span class="identifier">current</span> <span class="special">!=</span> <span class="identifier">y</span><span class="special">.</span><span class="identifier">current</span></code>
      </p></div></div></div></div></div><div class="section std_section tree_proposal_algorithms" id="tree.proposal.algorithms"><div class="titlepage"><div><div><h3 class="title">25. <a class="link" href="#tree.proposal.algorithms" title="25. Algorithms library [algorithms]">Algorithms
  library <span class="std_section_label">[algorithms]</span></a></h3></div></div></div><div class="note"><h3 class="title">Note</h3><p>
      Append to paragraph 2, <em class="replaceable"><code>Header <code class="literal">&lt;iterator&gt;</code>
      synopsis</code></em>, after <code class="computeroutput"><span class="comment">// subclause 25.2,
      non-modifying sequence operations</span></code>.
    </p></div><pre class="programlisting"><span class="comment">// subclause 25.3, non-modifying hierarchy operations</span>
<span class="keyword">namespace</span> <span class="identifier">preorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">Hierarchy</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">Hierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">end</span><span class="special">(</span><span class="identifier">Hierarchy</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cend</span><span class="special">(</span><span class="identifier">Hierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace preorder</span>

<span class="keyword">namespace</span> <span class="identifier">postorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">Hierarchy</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">Hierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">end</span><span class="special">(</span><span class="identifier">Hierarchy</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cend</span><span class="special">(</span><span class="identifier">Hierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace postorder</span>

<span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">MultiwayHierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">MultiwayHierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">MultiwayHierarchy</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">MultiwayHierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">MultiwayHierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">MultiwayHierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span>

  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">MultiwayHierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">MultiwayHierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">end</span><span class="special">(</span><span class="identifier">MultiwayHierarchy</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">MultiwayHierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">MultiwayHierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cend</span><span class="special">(</span><span class="identifier">MultiwayHierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre><div class="note"><h3 class="title">Note</h3><p>
      <code class="literal">[c]rbegin(...)</code> and <code class="literal">[c]rend(..)</code> are not
      provided as they can be achieved via <code class="literal">reverse_iterator({[c]begin(...)|[c]end(...)})</code>
      (which also defines requirements when this is possible)
    </p></div><div class="note"><h3 class="title">Note</h3><p>
      Change paragraph 3 to read:
    </p></div><p>
    All of the algorithms are separated from the particular implementations of data
    structures and are parameterized by iterator or hierarchy types. Because of this,
    they can work with program-defined data structures, as long as these data structures
    have iterator or cursor types satisfying the assumptions on the algorithms.
  </p><div class="note"><h3 class="title">Note</h3><p>
      Append to paragraph 5:
    </p></div><p>
    If an algorithm's template parameter is <code class="literal">Hierarchy</code>, the actual
    template argument shall satisfy the requirements of a hierarchy ([hierarchy.req]).
    If an algorithm's template parameter is <code class="literal">MultiwayHierarchy</code>,
    the actual template argument shall satisfy the requirements of a multiway hierarchy
    ([hierarchy.multiway]).
  </p><div class="note"><h3 class="title">Note</h3><p>
      Insert after section 25.2 Non-modifying sequence operations [alg.nonmodifying]
    </p></div><div class="section std_section alg_hierarchy" id="alg.hierarchy"><div class="titlepage"><div><div><h4 class="title">25.3. <a class="link" href="#alg.hierarchy" title="25.3. Non-modifying hierarchy algorithms [alg.hierarchy]">Non-modifying hierarchy algorithms <span class="std_section_label">[alg.hierarchy]</span></a></h4></div></div></div><div class="section  tree_alg_hier_preorder" id="tree.alg_hier_preorder"><div class="titlepage"><div><div><h5 class="title">25.3.1. <a class="link" href="#tree.alg_hier_preorder" title="25.3.1. Non-modifying hierarchy preorder range algorithms [alg.hier.preorder]">Non-modifying hierarchy preorder
    range algorithms <span class="std_section_label">[alg.hier.preorder]</span></a></h5></div></div></div><div class="section  tree_alg_hier_preorder_alg_hier_pre_begin" id="tree.alg_hier_preorder.alg_hier_pre_begin"><div class="titlepage"><div><div><h6 class="title">25.3.1.1. <a class="link" href="#tree.alg_hier_preorder.alg_hier_pre_begin" title="25.3.1.1. Preorder begin [alg.hier.pre.begin]">Preorder begin
      <span class="std_section_label">[alg.hier.pre.begin]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9627088"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">preorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">Hierarchy</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">Hierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace preorder</span>
</pre></div><div class="simplesect std_specification" id="idp9652176"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> An iterator pointing to the first element of
        <code class="literal">h</code> in preorder.
      </p></div><div class="simplesect std_specification" id="idp9654192"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Complexity:</em></span> constant
      </p></div></div><div class="section  tree_alg_hier_preorder_alg_hier_pre_end" id="tree.alg_hier_preorder.alg_hier_pre_end"><div class="titlepage"><div><div><h6 class="title">25.3.1.2. <a class="link" href="#tree.alg_hier_preorder.alg_hier_pre_end" title="25.3.1.2. Preorder end [alg.hier.pre.end]">Preorder end
      <span class="std_section_label">[alg.hier.pre.end]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9657904"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">preorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">end</span><span class="special">(</span><span class="identifier">Hierarchy</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cend</span><span class="special">(</span><span class="identifier">Hierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace preorder</span>
</pre></div><div class="simplesect std_specification" id="idp9682976"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> An iterator pointing one position past the
        last element of <code class="literal">h</code> in preorder.
      </p></div><div class="simplesect std_specification" id="idp9685008"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Complexity:</em></span> linear
      </p></div></div></div><div class="section  tree_alg_hier_postorder" id="tree.alg_hier_postorder"><div class="titlepage"><div><div><h5 class="title">25.3.2. <a class="link" href="#tree.alg_hier_postorder" title="25.3.2. Non-modifying hierarchy postorder range algorithms [alg.hier.postorder]">Non-modifying hierarchy postorder
    range algorithms <span class="std_section_label">[alg.hier.postorder]</span></a></h5></div></div></div><div class="section  tree_alg_hier_postorder_alg_hier_post_begin" id="tree.alg_hier_postorder.alg_hier_post_begin"><div class="titlepage"><div><div><h6 class="title">25.3.2.1. <a class="link" href="#tree.alg_hier_postorder.alg_hier_post_begin" title="25.3.2.1. Postorder begin [alg.hier.post.begin]">Postorder
      begin <span class="std_section_label">[alg.hier.post.begin]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9690976"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">postorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">Hierarchy</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">Hierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace postorder</span>
</pre></div><div class="simplesect std_specification" id="idp9716064"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> An iterator pointing to the first element of
        <code class="literal">h</code> in postorder.
      </p></div><div class="simplesect std_specification" id="idp9718080"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Complexity:</em></span> linear
      </p></div></div><div class="section  tree_alg_hier_postorder_alg_hier_post_end" id="tree.alg_hier_postorder.alg_hier_post_end"><div class="titlepage"><div><div><h6 class="title">25.3.2.2. <a class="link" href="#tree.alg_hier_postorder.alg_hier_post_end" title="25.3.2.2. Postorder end [alg.hier.post.end]">Postorder
      end <span class="std_section_label">[alg.hier.post.end]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9721776"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">postorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">end</span><span class="special">(</span><span class="identifier">Hierarchy</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">Hierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Hierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cend</span><span class="special">(</span><span class="identifier">Hierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">h</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace postorder</span>
</pre></div><div class="simplesect std_specification" id="idp9746848"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> An iterator pointing one position past the
        last element of <code class="literal">h</code> in postorder.
      </p></div><div class="simplesect std_specification" id="idp9748880"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Complexity:</em></span> constant
      </p></div></div></div><div class="section  tree_alg_hier_inorder" id="tree.alg_hier_inorder"><div class="titlepage"><div><div><h5 class="title">25.3.3. <a class="link" href="#tree.alg_hier_inorder" title="25.3.3. Non-modifying hierarchy inorder range algorithms [alg.hier.inorder]">Non-modifying hierarchy inorder
    range algorithms <span class="std_section_label">[alg.hier.inorder]</span></a></h5></div></div></div><div class="section  tree_alg_hier_inorder_alg_hier_in_begin" id="tree.alg_hier_inorder.alg_hier_in_begin"><div class="titlepage"><div><div><h6 class="title">25.3.3.1. <a class="link" href="#tree.alg_hier_inorder.alg_hier_in_begin" title="25.3.3.1. Inorder begin [alg.hier.in.begin]">Inorder begin
      <span class="std_section_label">[alg.hier.in.begin]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9755056"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">MultiwayHierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">MultiwayHierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">begin</span><span class="special">(</span><span class="identifier">MultiwayHierarchy</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">MultiwayHierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">MultiwayHierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cbegin</span><span class="special">(</span><span class="identifier">MultiwayHierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="simplesect std_specification" id="idp9780240"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> An iterator pointing to the first element of
        <code class="literal">h</code> in inorder.
      </p></div><div class="simplesect std_specification" id="idp9782256"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Complexity:</em></span> linear
      </p></div></div><div class="section  tree_alg_hier_inorder_alg_hier_in_end" id="tree.alg_hier_inorder.alg_hier_in_end"><div class="titlepage"><div><div><h6 class="title">25.3.3.2. <a class="link" href="#tree.alg_hier_inorder.alg_hier_in_end" title="25.3.3.2. Inorder end [alg.hier.in.end]">Inorder end <span class="std_section_label">[alg.hier.in.end]</span></a></h6></div></div></div><div class="simplesect std_definition" id="idp9785936"><div class="titlepage"></div><pre class="programlisting"><span class="keyword">namespace</span> <span class="identifier">inorder</span> <span class="special">{</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">MultiwayHierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">MultiwayHierarchy</span><span class="special">::</span><span class="identifier">cursor</span><span class="special">&gt;</span>
      <span class="identifier">end</span><span class="special">(</span><span class="identifier">MultiwayHierarchy</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span>
  <span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">MultiwayHierarchy</span><span class="special">&gt;</span>
    <span class="identifier">iterator</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">MultiwayHierarchy</span><span class="special">::</span><span class="identifier">const_cursor</span><span class="special">&gt;</span>
      <span class="identifier">cend</span><span class="special">(</span><span class="identifier">MultiwayHierarchy</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">m</span><span class="special">);</span>
<span class="special">}</span> <span class="comment">// namespace inorder</span>
</pre></div><div class="simplesect std_specification" id="idp9811104"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Returns:</em></span> An iterator pointing one position past the
        last element of <code class="literal">h</code> in inorder.
      </p></div><div class="simplesect std_specification" id="idp9813136"><div class="titlepage"></div><p>
        <span class="emphasis"><em>Complexity:</em></span> linear
      </p></div></div></div></div></div></div><div class="section  tree_references" id="tree.references"><div class="titlepage"><div><div><h2 class="title" style="clear: both">3. <a class="link" href="#tree.references" title="3. References">References</a></h2></div></div></div><div class="variablelist"><div class="variablelist-title">References</div><dl class="variablelist"><dt><span class="term">austern</span></dt><dd><p>
            Austern, Matthew H.; Stroustrup, Bjarne; Thorup, Mikkel; Wilikinson,
            John. <span class="emphasis"><em>Untangling the Balancing and Searching of Balanced Binary
            Search Trees</em></span>, Software: Practice and Experience 33(13): 1273-1298
            (2003) Electronic Appendix: http://www.research.att.com/~bs/tree-appendix.pdf
          </p></dd><dt><span class="term">cormen</span></dt><dd><p>
            Cormen, Thomas H.; Leiserson, Charles E.; Rivest, Ronald L.; Stein, Clifford.
            <span class="emphasis"><em>Introduction to Algorithms</em></span>. Second Edition (MIT
            Press, 2001)
          </p></dd><dt><span class="term">dreizin</span></dt><dd><p>
            Dreizin, Vladimir; Kosnik, Benjamin; Tavory, Ami. <span class="emphasis"><em>Policy-Based
            Data Structures</em></span>, http://gcc.gnu.org/onlinedocs/libstdc++<span class="emphasis"><em>ext/pb_ds</em></span>
          </p></dd><dt><span class="term">ekman</span></dt><dd><p>
            Ekman, Rasmus. <span class="emphasis"><em>Structured Associative Containers</em></span>,
            http://www.abc.se/~re/code/tst
          </p></dd><dt><span class="term">gottschlich</span></dt><dd><p>
            Gottschlich, Justin. <span class="emphasis"><em>C++ Trees</em></span>, http://www.gamedev.net/reference/articles/article2192.asp
            and http://www.gamedev.net/reference/articles/article2233.asp
          </p></dd><dt><span class="term">haas</span></dt><dd><p>
            Haas, Mitchell. <span class="emphasis"><em>Tree Container Library</em></span>, http://www.datasoftsolutions.net/tree_container_library/overview.php
          </p></dd><dt><span class="term">karas</span></dt><dd><p>
            Karas, Walt. <span class="emphasis"><em>C++ AVL Tree Template</em></span>, http://us.geocities.com/wkaras/gen_cpp/avl_tree.html
          </p></dd><dt><span class="term">knuth97</span></dt><dd><p>
            Knuth, Donald E. <span class="emphasis"><em>The Art of Computer Programming</em></span>.
            Volume 1: Fundamental Algorithms. Third Edition (Reading, Massachusetts:
            Addison-Wesley, 1997)
          </p></dd><dt><span class="term">knuth98</span></dt><dd><p>
            Knuth, Donald E. <span class="emphasis"><em>The Art of Computer Programming</em></span>.
            Volume 3: Sorting and Searching. Second Edition (Reading, Massachusetts:
            Addison-Wesley, 1998)
          </p></dd><dt><span class="term">mirwaisi</span></dt><dd><p>
            Mirwaisi, Jeff. <span class="emphasis"><em>treelib</em></span>, https://boost-consulting.com:8443/trac/soc/attachment/wiki/tree/resources/trees/treelib.tar.bz2
          </p></dd><dt><span class="term">parent</span></dt><dd><p>
            Parent, Sean et al. <span class="emphasis"><em>forest</em></span>, http://opensource.adobe.com/group__forest__related.html
          </p></dd><dt><span class="term">peeters</span></dt><dd><p>
            Peeters, Kasper. <span class="emphasis"><em>tree.hh: an STL-like C++ tree class</em></span>,
            http://www.aei.mpg.de/~peekas/tree/
          </p></dd><dt><span class="term">rivera</span></dt><dd><p>
            Rivera, René. <span class="emphasis"><em>RankTree.h</em></span>, http://redshift-software.com/~grafik/RankTree.h
          </p></dd></dl></div></div></div></body></html>
